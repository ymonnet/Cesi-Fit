(function(){"use strict";var e={4321:function(e,t,s){var a=s(144),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",{attrs:{id:"inspire"}},[s("MenuComponent",{staticStyle:{"z-index":"20"},attrs:{"views-available":e.viewsAvailable}}),s("v-main",[s("NavbarComponent",{staticStyle:{"z-index":"10"},attrs:{"views-available":e.viewsAvailable}}),s("router-view")],1),s("FooterComponent",{staticStyle:{"z-index":"30"}}),s("vue-cookies-consent",{staticStyle:{"z-index":"40"},attrs:{backgroundWindow:this.$vuetify.theme.currentTheme.warning,"save-method":"cookies"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Ce site utilise des cookies")]},proxy:!0},{key:"description",fn:function(){return[s("p",[e._v("En continuant votre navigation sur ce site, vous acceptez l'utilisation de cookies")])]},proxy:!0},{key:"button",fn:function(){return[e._v("J'accepte")]},proxy:!0}])})],1)},i=[],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return"Connexion"!==e.viewsAvailable[0].view?s("v-card",{attrs:{id:"menu-component"}},[s("v-navigation-drawer",{attrs:{app:"",color:"primary","expand-on-hover":e.expandOnHover,"mini-variant":e.miniVariant,permanent:e.permanent,dark:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[s("v-list",{staticClass:"py-0",attrs:{dense:""}},[s("v-list-item",{class:e.miniVariant&&"px-0",attrs:{"two-line":""}},[s("v-list-item-avatar",{staticClass:"ml-2"},[null!==e.user.thumbnail?s("img",{attrs:{src:e.user.thumbnail,alt:"Avatar"}}):s("img",{attrs:{src:"https://icones.pro/wp-content/uploads/2021/02/icone-utilisateur.png"}})]),s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(e.user.firstname)+" "+e._s(e.user.lastname))]),s("v-list-item-subtitle",[e._v(e._s(e.user.mail))])],1)],1),e._l(e.viewsAvailable,(function(t,a){return s("v-btn",{key:a,attrs:{link:"",to:t.link}},[s("v-list-item",{staticStyle:{width:"223px","padding-left":"2px"},attrs:{link:""}},[s("v-icon",{staticClass:"mr-5"},[e._v(e._s(t.mdi))]),e._v(" "+e._s(t.view)+" "),"Panier"===t.view&&e.totalQuantity>0?s("v-badge",{staticClass:"ml-1",attrs:{color:"primary",content:e.totalQuantity}}):e._e()],1)],1)})),s("v-list-item",{staticClass:"ml-4",staticStyle:{width:"223px","padding-left":"2px"},attrs:{link:""},on:{click:e.logout}},[s("v-icon",{staticClass:"mr-5"},[e._v("mdi-logout")]),s("span",{staticStyle:{"font-size":"14px"}},[e._v("DECONNEXION")])],1),s("v-list-item",[s("v-checkbox",{staticClass:"ml-1",attrs:{color:"white","on-icon":"mdi-theme-light-dark","off-icon":"mdi-theme-light-dark"},model:{value:e.$vuetify.theme.dark,callback:function(t){e.$set(e.$vuetify.theme,"dark",t)},expression:"$vuetify.theme.dark"}})],1)],2)],1)],1):e._e()},o=[];const l=window.localStorage.getItem("cart"),c={cart:l?JSON.parse(l):[]},u={addToCart(e,t){const s=e.cart.find((e=>e.id===t.id&&e.name===t.name));s?(s.quantity++,s.totalPrice+=Number(s.price)):(e.cart.push(t),a.Z.set(t,"quantity",1),a.Z.set(t,"totalPrice",Number(t.price))),this.commit("saveCart")},removeFromCart(e,t){const s=e.cart.find((e=>e.id===t.id&&e.name===t.name));s&&(s.quantity--,s.totalPrice-=Number(s.price),s.quantity<1&&e.cart.splice(e.cart.indexOf(t),1)),this.commit("saveCart")},removeAllQuantityFromCart(e,t){const s=e.cart.find((e=>e.id===t.id&&e.name===t.name));s&&e.cart.splice(e.cart.indexOf(t),1),this.commit("saveCart")},removeAllFromCart(e,t){const s=e.cart.filter((e=>e.restaurantId===t._id));for(const a of s)e.cart.splice(e.cart.indexOf(a),1);this.commit("saveCart")},saveCart(e){window.localStorage.setItem("cart",JSON.stringify(e.cart))}},d={},v={},m={state:c,mutations:u,actions:d,getters:v};var p=m;const h=window.localStorage.getItem("user"),f=window.localStorage.getItem("tokens"),g={user:h?JSON.parse(h):[],accessToken:f?JSON.parse(f).accessToken:null,refreshToken:f?JSON.parse(f).refreshToken:null},b={defineUser(e,t){e.user=t,this.commit("saveUser")},defineTokens(e,t){e.accessToken=t.accessToken,e.refreshToken=t.refreshToken,this.commit("saveTokens")},saveUser(e){window.localStorage.setItem("user",JSON.stringify(e.user))},saveTokens(e){window.localStorage.setItem("tokens",JSON.stringify({accessToken:e.accessToken,refreshToken:e.refreshToken}))}},C={},_={},x={state:g,mutations:b,actions:C,getters:_};var w=x,y=s(9669),k=s.n(y),V={props:{viewsAvailable:Array},data:()=>({drawer:!0,miniVariant:!0,expandOnHover:!0,permanent:!0,cart:p.state.cart,user:w.state.user}),methods:{logout(){k().post("http://localhost:4000/api/v1/auth/logout",{id:this.user.id}).then((()=>{window.localStorage.clear(),location.reload()})).catch((e=>console.log(e)))}},computed:{totalQuantity(){let e=0;for(const t of this.cart)e+=t.quantity;return e.toString()}}},S=V,E=s(1001),Z=s(3453),I=s.n(Z),q=s(3099),D=s(680),R=s(3237),z=s(9362),P=s(6428),$=s(6816),T=s(7620),L=s(6421),F=s(6451),A=s(5132),O=(0,E.Z)(S,n,o,!1,null,"026a65a5",null),M=O.exports;I()(O,{VBadge:q.Z,VBtn:D.Z,VCard:R.Z,VCheckbox:z.Z,VIcon:P.Z,VList:$.Z,VListItem:T.Z,VListItemAvatar:L.Z,VListItemContent:F.km,VListItemSubtitle:F.oZ,VListItemTitle:F.V9,VNavigationDrawer:A.Z});var N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app-bar",{attrs:{app:"",id:"navbar-component"}},[a("a",{staticClass:"d-flex align-center",attrs:{href:"/",title:"Page d'accueil"}},[a("v-img",{staticClass:"shrink mr-2",attrs:{src:s(6949),alt:"CESI Eats Logo",width:"50",transition:"scale-transition"}}),a("h2",[e._v("CESI Eats")])],1),a("v-spacer"),"Connexion"===e.viewsAvailable[0].view?a("div",[a("LoginComponent")],1):e._e(),"Connexion"===e.viewsAvailable[0].view?a("div",e._l(e.viewsAvailable.filter((function(e){return!e.isSetting&&"Inscription"===e.view})),(function(t){return a("v-btn",{key:t.view,staticClass:"reponsive-navbar",attrs:{link:"",to:t.link}},[a("v-icon",{staticClass:"mr-1"},[e._v(e._s(t.mdi))]),a("span",{staticClass:"mr-1"},[e._v(e._s(t.view))])],1)})),1):e._e(),"Connexion"!==e.viewsAvailable[0].view?a("div",e._l(e.viewsAvailable.filter((function(e){return!e.isSetting})),(function(t){return a("v-btn",{key:t.view,staticClass:"reponsive-navbar",attrs:{link:"",to:t.link}},[t.mdi?a("v-icon",{staticClass:"mr-1"},[e._v(e._s(t.mdi))]):e._e(),a("span",{staticClass:"mr-1"},[e._v(e._s(t.view))]),"Panier"===t.view&&e.totalQuantity>0?a("v-badge",{staticClass:"ml-1",attrs:{color:"primary",content:e.totalQuantity}}):e._e()],1)})),1):e._e(),a("div",{staticClass:"reponsive-navbar"},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",r,!1),s),[a("v-icon",[e._v("mdi-cog")])],1)]}}])},[a("v-list",[e._l(e.viewsAvailable.filter((function(e){return e.isSetting})),(function(t){return a("v-list-item",{key:t.view},[a("v-btn",{staticStyle:{width:"100%",background:"none","box-shadow":"none","border-bottom":"1px solid black","border-radius":"0"},attrs:{href:t.link}},[a("v-list-item-title",[t.mdi?a("v-icon",{staticClass:"mr-1"},[e._v(e._s(t.mdi))]):e._e(),a("span",{staticClass:"mr-1"},[e._v(e._s(t.view))])],1)],1)],1)})),a("v-list-item",[a("v-btn",{staticStyle:{width:"100%",background:"none","box-shadow":"none","border-bottom":"1px solid black","border-radius":"0"},on:{click:e.logout}},[a("v-list-item-title",[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-logout")]),a("span",{staticClass:"mr-1"},[e._v("Déconnexion")])],1)],1)],1),a("v-list-item",[a("v-checkbox",{staticClass:"pt-4 ma-auto",attrs:{"on-icon":"mdi-theme-light-dark","off-icon":"mdi-theme-light-dark"},model:{value:e.$vuetify.theme.dark,callback:function(t){e.$set(e.$vuetify.theme,"dark",t)},expression:"$vuetify.theme.dark"}})],1)],2)],1)],1)],1)},U=[],j=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[s("v-btn",e._g(e._b({attrs:{color:"primary"}},"v-btn",r,!1),a),[e._v(" Connexion ")])]}}]),model:{value:e.connectionDialog,callback:function(t){e.connectionDialog=t},expression:"connectionDialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"text-h4"},[e._v("Connexion")])]),s("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.connectionSubmit.apply(null,arguments)}}},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail"},model:{value:e.user.mail,callback:function(t){e.$set(e.user,"mail",t)},expression:"user.mail"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{rules:e.passwordRules,label:"Mot de passe","append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password"},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.user.pwd,callback:function(t){e.$set(e.user,"pwd",t)},expression:"user.pwd"}})],1)],1)],1),s("v-col",{attrs:{cols:"12"}},[s("h4",[e._v("Pas encore de compte ? "),s("a",{attrs:{href:"/inscription"}},[e._v("Inscrivez-vous ici")])])]),s("v-card-actions",[s("v-spacer"),s("v-btn",{on:{click:e.cancelButtonClick}},[e._v(" Fermer ")]),s("v-btn",{staticClass:"mr-4",attrs:{color:"primary",type:"submit"}},[e._v(" Se connecter ")])],1)],1),s("v-alert",{attrs:{dense:"",type:"error"},model:{value:e.errorSnackbar,callback:function(t){e.errorSnackbar=t},expression:"errorSnackbar"}},[e._v(e._s(e.errorSnackbarText))]),s("v-alert",{attrs:{dense:"",type:"success"},model:{value:e.successSnackbar,callback:function(t){e.successSnackbar=t},expression:"successSnackbar"}},[e._v(e._s(e.successSnackbarText))])],1)],1)},B=[],G={name:"LoginComponent",data:()=>({userStore:w.state.user,emailRules:[e=>!!e||"Veuillez renseigner votre E-mail",e=>/.+@.+/.test(e)||"le format est incorrect"],passwordRules:[e=>!!e||"Veuillez renseigner votre mot de passe"],user:{mail:"",pwd:""},connectionDialog:!1,show1:!1,errorSnackbar:!1,errorSnackbarText:"",successSnackbar:!1,successSnackbarText:""}),methods:{cancelButtonClick(){this.connectionDialog=!1,this.$refs.form.reset()},connectionSubmit(){this.snackbar=!1,""!==this.user.mail&&""!==this.user.pwd?this.validate():console.log("Please, specify all informations")},validate(){const e={mail:this.user.mail,password:this.user.pwd};k().post("http://localhost:4000/api/v1/auth/login",e).then(((e,t)=>{if(t)return this.snackbarText=t.response.data.error,void(this.snackbar=!0);this.defineUser(e.data.user),this.defineTokens({accessToken:e.data.accessToken,refreshToken:e.data.refreshToken}),this.successSnackbarText="Connected",this.successSnackbar=!0,setTimeout((()=>{this.$router.go()}),500)}))},defineUser(e){this.$store.commit("defineUser",e)},defineTokens(e){this.$store.commit("defineTokens",e)}}},Q=G,J=s(5098),H=s(7118),X=s(2102),W=s(9846),K=s(4497),Y=s(6232),ee=s(2877),te=s(9762),se=s(314),ae=(0,E.Z)(Q,j,B,!1,null,null,null),re=ae.exports;I()(ae,{VAlert:J.Z,VBtn:D.Z,VCard:R.Z,VCardActions:H.h7,VCardTitle:H.EB,VCol:X.Z,VContainer:W.Z,VDialog:K.Z,VForm:Y.Z,VRow:ee.Z,VSpacer:te.Z,VTextField:se.Z});var ie={name:"NavbarComponent",components:{LoginComponent:re},props:{viewsAvailable:Array},data:()=>({cart:p.state.cart,user:w.state.user}),methods:{logout(){k().post("http://localhost:4000/api/v1/auth/logout",{id:this.user.id}).then((()=>{window.localStorage.clear(),location.reload()})).catch((e=>console.log(e)))}},computed:{totalQuantity(){let e=0;for(const t of this.cart)e+=t.quantity;return e.toString()}}},ne=ie,oe=s(426),le=s(7047),ce=s(6768),ue=(0,E.Z)(ne,N,U,!1,null,"c6759b76",null),de=ue.exports;I()(ue,{VAppBar:oe.Z,VBadge:q.Z,VBtn:D.Z,VCheckbox:z.Z,VIcon:P.Z,VImg:le.Z,VList:$.Z,VListItem:T.Z,VListItemTitle:F.V9,VMenu:ce.Z,VSpacer:te.Z});var ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-footer",{staticClass:"mt-3",attrs:{padless:"",id:"footer-component"}},[a("v-card",{staticClass:"primary white--text text-center"},[a("v-container",[a("v-row",[a("v-col",{attrs:{id:"logo",sm:"12",md:"6"}},[a("a",{staticClass:"d-flex align-center",attrs:{href:"/",title:"Page d'accueil"}},[a("v-img",{staticClass:"shrink mr-2",attrs:{src:s(8607),alt:"CESI Eats Logo",width:"50",transition:"scale-transition"}}),a("h2",[e._v("CESI Eats")])],1)]),a("v-col",{attrs:{id:"links",sm:"12",md:"6"}},[a("v-btn",{attrs:{link:"",color:"primary",to:{name:"aide"}}},[a("span",{staticClass:"mr-2"},[e._v("Obtenir de l'aide")])]),a("v-btn",{attrs:{link:"",color:"primary",to:{name:"client"}}},[a("span",{staticClass:"mr-2"},[e._v("Créer un compte")])]),a("v-btn",{attrs:{link:"",color:"primary",to:{name:"restaurateur"}}},[a("span",{staticClass:"mr-2"},[e._v("Ajouter un restaurant")])]),a("v-btn",{attrs:{link:"",color:"primary",to:{name:"livreur"}}},[a("span",{staticClass:"mr-2"},[e._v("Devenez coursier-partenaire")])]),a("v-btn",{attrs:{link:"",color:"primary",to:{name:"aide"}}},[a("span",{staticClass:"mr-2"},[e._v("À propos de CESI Eats")])])],1)],1)],1),a("v-divider"),a("div",{staticClass:"mt-5 mb-5",attrs:{id:"mandatory"}},[a("v-btn",{attrs:{link:"",color:"primary",to:{name:"mentions-legales"}}},[a("span",{staticClass:"mr-2"},[e._v("Mentions légales")])]),a("v-btn",{attrs:{link:"",color:"primary",to:{name:"cgu"}}},[a("span",{staticClass:"mr-2"},[e._v("Conditions Générales d'Utilisation")])]),a("v-btn",{attrs:{link:"",color:"primary",to:{name:"cgv"}}},[a("span",{staticClass:"mr-2"},[e._v("Conditions Générales de Vente")])]),a("v-btn",{attrs:{link:"",color:"primary",to:{name:"politique-confidentialite"}}},[a("span",{staticClass:"mr-2"},[e._v("Politique de confidentialité")])])],1),a("v-divider"),a("v-card-text",{staticClass:"white--text pb-0"},[a("strong",[e._v("CESI Eats")]),e._v(" - "+e._s((new Date).getFullYear())+" ")]),a("v-card-text",{staticClass:"pt-0"},e._l(e.icons,(function(t){return a("v-btn",{key:t,staticClass:"mx-4 white--text",attrs:{icon:""}},[a("v-icon",{attrs:{size:"24px"}},[e._v(e._s(t))])],1)})),1)],1)],1)},me=[],pe={name:"FooterComponent",data:()=>({icons:["mdi-facebook","mdi-twitter","mdi-linkedin","mdi-instagram"]})},he=pe,fe=s(1418),ge=s(899),be=(0,E.Z)(he,ve,me,!1,null,"5f382aed",null),Ce=be.exports;I()(be,{VBtn:D.Z,VCard:R.Z,VCardText:H.ZB,VCol:X.Z,VContainer:W.Z,VDivider:fe.Z,VFooter:ge.Z,VIcon:P.Z,VImg:le.Z,VRow:ee.Z});var _e=s(5292);k().interceptors.request.use((function(e){return e.headers["x-access-token"]=JSON.parse(window.localStorage.getItem("tokens"))?.accessToken,e}),(function(e){return Promise.reject(e)}));var xe=a.Z.extend({name:"App",components:{MenuComponent:M,NavbarComponent:de,FooterComponent:Ce,VueCookiesConsent:_e.Z},data:()=>({user:w.state.user}),computed:{viewsAvailable(){let e=[];switch(this.user?.roleId){case 1:e=[{isSetting:!1,view:"Restaurants",link:"/restaurants",mdi:"mdi-silverware-fork-knife"},{isSetting:!1,view:"Panier",link:"/panier",mdi:"mdi-cart"},{isSetting:!0,view:"Profil",link:"/profil",mdi:"mdi-account-wrench"},{isSetting:!0,view:"Commandes",link:"/commandes",mdi:"mdi-history"}];break;case 2:e=[{isSetting:!1,view:"Mon restaurant",link:"/mon-restaurant",mdi:"mdi-silverware-fork-knife"},{isSetting:!1,view:"Commandes",link:"/commandes",mdi:"mdi-application-edit"},{isSetting:!0,view:"Profil",link:"/profil",mdi:"mdi-account-wrench"}];break;case 3:e=[{isSetting:!1,view:"Livraisons",link:"/livraisons",mdi:"mdi-bicycle"},{isSetting:!0,view:"Profil",link:"/profil",mdi:"mdi-account-wrench"}];break;case 4:e=[{isSetting:!1,view:"Comptes",link:"/comptes",mdi:"mdi-account-multiple"},{isSetting:!1,view:"Statistiques",link:"/statistiques",mdi:"mdi-chart-line"},{isSetting:!0,view:"Profil",link:"/profil",mdi:"mdi-account-wrench"}];break;case 5:e=[{isSetting:!1,view:"Logs",link:"/logs",mdi:"mdi-archive-arrow-up"},{isSetting:!1,view:"Composants",link:"/composants",mdi:"mdi-archive-arrow-up"}];break;case 6:e=[{isSetting:!1,view:"Composants",link:"/composants",mdi:"mdi-archive-arrow-up"}];break;default:e=[{isSetting:!1,view:"Connexion",link:"/connexion",mdi:"mdi-account"},{isSetting:!0,view:"Inscription",link:"inscription",mdi:"mdi-account-plus"}]}return e}}}),we=xe,ye=s(7524),ke=s(7877),Ve=(0,E.Z)(we,r,i,!1,null,"483e5ea2",null),Se=Ve.exports;I()(Ve,{VApp:ye.Z,VMain:ke.Z});var Ee=s(8345),Ze=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"home-view"}},[s("LeaderboardComponent"),s("RolesComponent")],1)},Ie=[],qe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"leaderboard-component"}},[s("div",{staticClass:"container--fluid"},[s("div",{attrs:{id:"search-restaurant"}},[s("h1",[e._v("Vos plats préférés, directement à votre porte")]),s("v-btn",{attrs:{link:"",color:"primary",id:"search-restaurant-btn",to:{name:"restaurants"}}},[s("span",{staticClass:"mr-2"},[e._v("Trouver un restaurant")]),s("v-icon",[e._v("mdi-arrow-right")])],1)],1)])])},De=[],Re={name:"LeaderboardComponent"},ze=Re,Pe=(0,E.Z)(ze,qe,De,!1,null,"311dac9f",null),$e=Pe.exports;I()(Pe,{VBtn:D.Z,VIcon:P.Z});var Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"roles-component"}},[a("v-container",{staticClass:"pr-0 pl-0 mb-5"},[a("v-row",[a("v-col",{attrs:{xs:"12",sm:"6",lg:"4"}},[a("a",{attrs:{href:"/client",title:"Client"}},[a("v-card",{staticClass:"role-cards"},[a("v-img",{attrs:{src:s(4852),alt:"Client"}})],1),a("h3",[e._v("Utilisez notre application dès maintenant")])],1)]),a("v-col",{attrs:{xs:"12",sm:"6",lg:"4"}},[a("a",{attrs:{href:"/restaurateur",title:"Restaurateur"}},[a("v-card",{staticClass:"role-cards"},[a("v-img",{attrs:{src:s(5417),alt:"Restaurateur"}})],1),a("h3",[e._v("Les plats de vos restaurants préférés, livrés chez vous")])],1)]),a("v-col",{attrs:{xs:"12",sm:"6",lg:"4"}},[a("a",{attrs:{href:"/livreur",title:"Livreur"}},[a("v-card",{staticClass:"role-cards"},[a("v-img",{attrs:{src:s(1239),alt:"Livreur"}})],1),a("h3",[e._v("Livrez avec CESI Eats")])],1)])],1)],1)],1)},Le=[],Fe={name:"RolesComponent"},Ae=Fe,Oe=(0,E.Z)(Ae,Te,Le,!1,null,"2771704e",null),Me=Oe.exports;I()(Oe,{VCard:R.Z,VCol:X.Z,VContainer:W.Z,VImg:le.Z,VRow:ee.Z});var Ne=a.Z.extend({name:"HomeView",components:{LeaderboardComponent:$e,RolesComponent:Me}}),Ue=Ne,je=(0,E.Z)(Ue,Ze,Ie,!1,null,null,null),Be=je.exports,Ge=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("RegisterComponent")},Qe=[],Je=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{staticClass:"mx-auto",attrs:{id:"v-card","max-width":"90%"}},[s("v-card-title",[s("span",{staticClass:"text-h4"},[e._v("Inscription")])]),s("v-form",{ref:"registerForm",on:{submit:function(t){return t.preventDefault(),e.registerSubmit.apply(null,arguments)}},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[s("v-container",[s("v-row",[s("v-col",{staticClass:"mr-10",attrs:{cols:"4",md:"2"}},[s("v-select",{attrs:{items:e.roles,rules:e.roleRules,label:"Rôle*",required:""},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}})],1),s("v-col",{attrs:{cols:"4",md:"2"}},[s("v-text-field",{attrs:{rules:e.sponsor,label:"Code de parrainage","error-messages":e.checkSponsorRole()},model:{value:e.user.sponsorReferal,callback:function(t){e.$set(e.user,"sponsorReferal",t)},expression:"user.sponsorReferal"}})],1)],1),s("v-card-title",[s("span",{staticClass:"text-h6"},[e._v("Données personnelles")])]),s("v-row",[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{rules:e.firstNameRules,label:"Prénom*"},model:{value:e.user.firstName,callback:function(t){e.$set(e.user,"firstName",t)},expression:"user.firstName"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{rules:e.lastNameRules,label:"Nom*"},model:{value:e.user.lastName,callback:function(t){e.$set(e.user,"lastName",t)},expression:"user.lastName"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail*"},model:{value:e.user.mail,callback:function(t){e.$set(e.user,"mail",t)},expression:"user.mail"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{rules:e.phoneRules,label:"Téléphone*"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{rules:e.thumbnail,label:"URL de la photo de profil*"},model:{value:e.user.thumbnail,callback:function(t){e.$set(e.user,"thumbnail",t)},expression:"user.thumbnail"}})],1),s("v-col",{attrs:{cols:"6",md:"4"}},[s("v-text-field",{attrs:{rules:e.passwordRules,label:"Mot de passe*","append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password"},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.user.pwd,callback:function(t){e.$set(e.user,"pwd",t)},expression:"user.pwd"}})],1)],1),s("v-card-title",[s("span",{staticClass:"text-h6"},[e._v("Informations de livraison par défaut")])]),s("v-row",[s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"Ville*",rules:e.cityRules},model:{value:e.user.city,callback:function(t){e.$set(e.user,"city",t)},expression:"user.city"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{label:"Adresse*",rules:e.addressRules},model:{value:e.user.address,callback:function(t){e.$set(e.user,"address",t)},expression:"user.address"}})],1),s("v-col",{attrs:{cols:"4",md:"2"}},[s("v-text-field",{attrs:{label:"Code postal*",rules:e.zipRules},model:{value:e.user.zipCode,callback:function(t){e.$set(e.user,"zipCode",t)},expression:"user.zipCode"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-checkbox",{attrs:{rules:e.mandatory}},[s("div",{attrs:{slot:"label"},on:{click:function(e){e.stopPropagation()}},slot:"label"},[e._v(" J'ai lu et j'accepte les "),s("a",{attrs:{href:"/cgv",title:"CGV"}},[e._v("CGV")]),e._v(" et "),s("a",{attrs:{href:"/cgu",title:"CGU"}},[e._v("CGU")]),e._v(". ")])])],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:!e.isValid}},[e._v(" Enregistrer ")])],1)],1),s("v-alert",{attrs:{dense:"",type:"error"},model:{value:e.errorSnackbar,callback:function(t){e.errorSnackbar=t},expression:"errorSnackbar"}},[e._v(e._s(e.errorSnackbarText))]),s("v-alert",{attrs:{dense:"",type:"success"},model:{value:e.successSnackbar,callback:function(t){e.successSnackbar=t},expression:"successSnackbar"}},[e._v(e._s(e.successSnackbarText))])],1)},He=[],Xe={name:"RegisterComponent",data:()=>({isValid:!1,firstNameRules:[e=>!!e||"Veuillez renseigner votre prénom"],lastNameRules:[e=>!!e||"Veuillez renseigner votre nom"],emailRules:[e=>!!e||"Veuillez renseigner votre E-mail",e=>/.+@.+/.test(e)||"le format est incorrect"],passwordRules:[e=>!!e||"Veuillez renseigner votre mot de passe",e=>/^(?=.{8,}$)(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).*$/.test(e)||"Le mot de passe doit contenir au moins 8 caractères dont minimum 1 minuscule, 1 majuscule et 1 chiffre"],roleRules:[e=>!!e||"Veuillez sélectionner votre rôle"],phoneRules:[e=>!!e||"Veuillez renseigner votre numéro de téléphone",e=>/^(0|\+33)[1-9]([-. ]?[0-9]{2}){4}$/.test(e)||"Format incorrect (+33xx ou 0xx)"],cityRules:[e=>!!e||"Veuillez renseigner votre ville"],addressRules:[e=>!!e||"Veuillez renseigner votre addresse"],zipRules:[e=>!!e||"Veuillez renseigner votre code postal",e=>/^[0-9]*$/.test(e)||"Format incorrect"],mandatory:[e=>!!e||"Veuillez accepter les conditions"],thumbnail:[e=>!!e||"Veuillez entrer une URL"],sponsor:[e=>/(([1-6]{1})+-([0-9A-Z]{3})+-([0-9A-Z]{3})$)|^$/.test(e)||"Format incorrect"],users:[],user:{mail:"",pwd:"",role:null,city:"",zipCode:"",address:"",firstName:"",lastName:"",phone:"",thumbnail:"",sponsorReferal:""},sponsorID:null,show1:!1,roles:["Client","Restaurateur","Livreur"],errorSnackbar:!1,errorSnackbarText:"",successSnackbar:!1,successSnackbarText:""}),methods:{registerSubmit(){this.snackbar=!1,console.log(this.checkSponsorRole()),console.log(this.checkSponsorRole(this.sponsorID)),""===this.checkSponsorRole()&&""!==this.user.mail&&""!==this.user.pwd&&""!==this.user.role&&null!==this.user.role&&""!==this.user.city&&""!==this.user.zipCode&&""!==this.user.address&&""!==this.user.firstName&&""!==this.user.lastName&&""!==this.user.phone&&""!==this.user.thumbnail?(this.getSponsorId(),console.log(this.getSponsorId()),this.validate()):console.log("Please, specify all informations")},validate(){let e=0;"Client"===this.user.role&&(e=1),"Restaurateur"===this.user.role&&(e=2),"Livreur"===this.user.role&&(e=3);const t={firstname:this.user.firstName,lastname:this.user.lastName,mail:this.user.mail,city:this.user.city,zipCode:this.user.zipCode,address:this.user.address,phone:this.user.phone,password:this.user.pwd,thumbnail:this.user.thumbnail,roleId:e,sponsorId:this.sponsorID?this.sponsorID:""};k().post("http://localhost:4000/api/v1/auth/register",t).then(((e,t)=>{if(t)return this.snackbarText=t.response.data.error,void(this.snackbar=!0);this.defineUser(e.data),this.defineTokens({accessToken:e.data.accessToken,refreshToken:e.data.refreshToken}),this.successSnackbarText="Registered",this.successSnackbar=!0,setTimeout((()=>{this.$router.push("/")}),500)}))},defineUser(e){this.$store.commit("defineUser",e)},defineTokens(e){this.$store.commit("defineTokens",e)},getSponsorId(){const e=this.users.find((e=>e.referalCode===this.user.sponsorReferal));this.sponsorID=e?.id},doReferalExist(){const e=this.users.find((e=>e.referalCode===this.user.sponsorReferal));return console.log(e),null!=e},checkSponsorRole(){let e="";if(console.log(this.user?.sponsorReferal),""===this.user.sponsorReferal)e="";else{let t=0;const s=Number(this.user?.sponsorReferal?.split("-")[0]);"Client"===this.user.role&&(t=1),"Restaurateur"===this.user.role&&(t=2),"Livreur"===this.user.role&&(t=3),e=t===s&&this.doReferalExist()?"":this.doReferalExist()?"Votre rôle et celui du parrain ne correspondent pas":"Ce code n'existe pas"}return console.log(e),e}},mounted(){k().get("http://localhost:4100/api/v1/users/").then((e=>{this.users=e.data})).catch((e=>console.log(e)))}},We=Xe,Ke=s(3986),Ye=(0,E.Z)(We,Je,He,!1,null,"00dfe345",null),et=Ye.exports;I()(Ye,{VAlert:J.Z,VBtn:D.Z,VCard:R.Z,VCardActions:H.h7,VCardTitle:H.EB,VCheckbox:z.Z,VCol:X.Z,VContainer:W.Z,VForm:Y.Z,VRow:ee.Z,VSelect:Ke.Z,VSpacer:te.Z,VTextField:se.Z});var tt=a.Z.extend({name:"RegisterView",components:{RegisterComponent:et}}),st=tt,at=(0,E.Z)(st,Ge,Qe,!1,null,null,null),rt=at.exports,it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"customer-view"}},[a("v-container",[a("v-row",{staticClass:"image"},[a("v-img",{attrs:{src:s(4852),alt:"Client"}})],1),a("h2",[e._v("Gagnez du temps avec CESI Eats")]),a("v-row",[a("v-col",{attrs:{xs:"12"}},[a("p",[e._v("CESI Eats est un service de livraison de plats cuisinés lancé par CESI en 2022 et basé à Saint-Nazaire, en France. Les commandes sont prises via le site web de CESI Eats auprès des restaurants partenaires et sont livrées par des coursiers indépendants (vélo, scooter, etc.).")])])],1),a("CustomerOperation"),a("JoinUsComponent")],1)],1)},nt=[],ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3 mb-8",attrs:{id:"c-operation-component"}},[a("v-container",{staticClass:"pr-0 pl-0"},[a("h2",[e._v("Fonctionnement de CESI Eats pour les clients")]),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"6",lg:"4"}},[a("v-card",{staticClass:"step-cards"},[a("v-img",{attrs:{src:s(8280),alt:"Trouver un restaurant"}})],1),a("h3",[e._v("1. Trouver un restaurant et commandez")]),a("p",[e._v("Sélectionnez le restaurant que vous souhaitez, selon vos envies du moment. Choisissez ensuite votre repas en sélectionnant menus et/ou produits catégorisés.")])],1),a("v-col",{attrs:{xs:"12",sm:"6",lg:"4"}},[a("v-card",{staticClass:"step-cards"},[a("v-img",{attrs:{src:s(7325),alt:"Vous préparez"}})],1),a("h3",[e._v("2. Livraison rapide")]),a("p",[e._v("Un coursier utilisant la plateforme CESI Eats prend en charge votre commande et la livre dans les plus brefs délais.")])],1),a("v-col",{attrs:{xs:"12",sm:"6",lg:"4"}},[a("v-card",{staticClass:"step-cards"},[a("v-img",{attrs:{src:s(5359),alt:"Dégustez et savourez"}})],1),a("h3",[e._v("3. Dégustez et savourez")]),a("p",[e._v("Rien de tel qu'un repas savoureux pour faire plaisir à tous.")])],1)],1)],1)],1)},lt=[],ct={name:"CustomerOperation"},ut=ct,dt=(0,E.Z)(ut,ot,lt,!1,null,"2faa08cb",null),vt=dt.exports;I()(dt,{VCard:R.Z,VCol:X.Z,VContainer:W.Z,VImg:le.Z,VRow:ee.Z});var mt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt-3 mb-8",attrs:{id:"join-us-component"}},[s("v-container",{attrs:{secondary:"","lighten-1":""}},[s("p",[e._v("Peu importe votre profil, que vous soyez ici en tant que consommateur, restaurateur ou bien afin de devenir livreur, nous proposons une application simple qui saura satisfaire vos besoins.")]),s("v-btn",{attrs:{link:"",elevation:"2",to:{name:"inscription"},color:"secondary darken-1"}},[s("span",{staticClass:"mr-2"},[e._v("Nous rejoindre")])])],1)],1)},pt=[],ht={name:"JoinUsComponent"},ft=ht,gt=(0,E.Z)(ft,mt,pt,!1,null,"55790804",null),bt=gt.exports;I()(gt,{VBtn:D.Z,VContainer:W.Z});var Ct={name:"CustomerView",components:{CustomerOperation:vt,JoinUsComponent:bt}},_t=Ct,xt=(0,E.Z)(_t,it,nt,!1,null,"367274ea",null),wt=xt.exports;I()(xt,{VCol:X.Z,VContainer:W.Z,VImg:le.Z,VRow:ee.Z});var yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"restaurant-owner-view"}},[a("v-container",[a("v-row",{staticClass:"image"},[a("v-img",{attrs:{src:s(5417),alt:"Restaurateur"}})],1),a("h2",[e._v("Pourquoi CESI Eats")]),a("v-row",[a("v-col",{attrs:{xs:"12",md:"6"}},[a("v-card",[a("h3",[e._v("Livrez vos commandes à votre façon")]),a("p",[e._v("Nos offres sont flexibles : vous pouvez ainsi les adapter à vos besoins. Rejoignez CESI Eats et faites livrer vos commandes par vos coursiers ou ceux de notre plateforme.")])])],1),a("v-col",{attrs:{xs:"12",md:"6"}},[a("v-card",[a("h3",[e._v("Augmentez votre visibilité")]),a("p",[e._v("Démarquez-vous grâce au marketing intégré à l'application afin de toucher encore plus de clients et d'accroître vos ventes.")])])],1)],1),a("v-row",[a("v-col",{attrs:{xs:"12",md:"6"}},[a("v-card",[a("h3",[e._v("Créez du lien avec vos clients")]),a("p",[e._v("Transformez vos clients en habitués grâce à des données exploitables, répondez aux avis laissés sur votre établissement ou proposez un programme de fidélité.")])])],1),a("v-col",{attrs:{xs:"12",md:"6"}},[a("v-card",[a("h3",[e._v("Développez votre activité")]),a("p",[e._v("Des milliers d'utilisateurs de l'application CESI Eats sont susceptibles de rechercher un restaurant dans votre secteur. En accueillant votre restaurant sur notre plateforme en tant que partenaire CESI Eats, nous l'aidons à répondre à leur demande.")])])],1)],1),a("v-row",[a("v-col",{attrs:{xs:"12",md:"6"}},[a("v-card",[a("h3",[e._v("Assurez la satisfaction de vos clients")]),a("p",[e._v("Grâce à un service de livraison fiable proposé par des coursiers utilisant la plateforme CESI Eats, vos clients savourent leurs plats préférés où et quand ils le souhaitent.")])])],1),a("v-col",{attrs:{xs:"12",md:"6"}},[a("v-card",[a("h3",[e._v("Gérez facilement l'ensemble de votre activité")]),a("p",[e._v("Aucun souci au niveau des commandes : vous disposez du logiciel CESI Eats destiné aux restaurants, d'options d'intégration flexibles et d'une aide en cas de besoin.")])])],1)],1),a("RestaurantOwnerOperation"),a("JoinUsComponent")],1)],1)},kt=[],Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3 mb-8",attrs:{id:"r-operation-component"}},[a("v-container",{staticClass:"pr-0 pl-0"},[a("h2",[e._v("Fonctionnement de CESI Eats pour les restaurants partenaires")]),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"6",lg:"4"}},[a("v-card",{staticClass:"step-cards"},[a("v-img",{attrs:{src:s(3792),alt:"Les clients passent commande"}})],1),a("h3",[e._v("1. Les clients passent commande")]),a("p",[e._v("Le client trouve votre restaurant et passe commande sur l'application CESI Eats.")])],1),a("v-col",{attrs:{xs:"12",sm:"6",lg:"4"}},[a("v-card",{staticClass:"step-cards"},[a("v-img",{attrs:{src:s(2799),alt:"Vous préparez"}})],1),a("h3",[e._v("2. Vous préparez")]),a("p",[e._v("Votre restaurant accepte et prépare la commande.")])],1),a("v-col",{attrs:{xs:"12",sm:"6",lg:"4"}},[a("v-card",{staticClass:"step-cards"},[a("v-img",{attrs:{src:s(4873),alt:"Les coursiers arrivent"}})],1),a("h3",[e._v("3. Les coursiers arrivent")]),a("p",[e._v("Un coursier utilisant la plateforme CESI Eats prend en charge la commande dans votre restaurant, puis la livre au client.")])],1)],1)],1)],1)},St=[],Et={name:"RestaurantOwnerOperation"},Zt=Et,It=(0,E.Z)(Zt,Vt,St,!1,null,"3c0804c0",null),qt=It.exports;I()(It,{VCard:R.Z,VCol:X.Z,VContainer:W.Z,VImg:le.Z,VRow:ee.Z});var Dt={name:"RestaurantOwnerView",components:{RestaurantOwnerOperation:qt,JoinUsComponent:bt}},Rt=Dt,zt=(0,E.Z)(Rt,yt,kt,!1,null,"0339ed82",null),Pt=zt.exports;I()(zt,{VCard:R.Z,VCol:X.Z,VContainer:W.Z,VImg:le.Z,VRow:ee.Z});var $t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"delivery-man-view"}},[a("v-container",[a("v-row",{staticClass:"image"},[a("v-img",{attrs:{src:s(1239),alt:"Livreur"}})],1),a("h2",[e._v("Devenez coursier avec CESI Eats")]),a("v-row",[a("v-col",{attrs:{xs:"12"}},[a("p",[e._v("Devenir coursier avec CESI Eats permet de générer des revenus de façon flexible. C'est une option avantageuse par rapport aux emplois de coursiers à temps plein, à temps partiel, ou même à d'autres postes à temps partiel, temporaires ou saisonniers. Si vous êtes chauffeur de courses partagées, envisagez d'augmenter vos revenus en devenant coursier sur la plateforme CESI Eats. Les chauffeurs sur CESI viennent de tous les horizons et de tous les secteurs. Ils adaptent leurs horaires de travail à leur emploi du temps, et non l'inverse.")])])],1),a("h2",[e._v("Gagnez de l'argent à votre rythme")]),a("v-row",[a("v-col",{attrs:{xs:"12",md:"4"}},[a("v-card",[a("h3",[e._v("Votre vélo, vos horaires")]),a("p",[e._v("Découvrez votre ville tout en livrant à vélo et ce, quand vous le voulez - pour une heure, un weekend, ou tout au long de la semaine.")])])],1),a("v-col",{attrs:{xs:"12",md:"4"}},[a("v-card",[a("h3",[e._v("Paiement hebdomadaire")]),a("p",[e._v("Vous recevez vos paiements chaque début de semaine. Après un certain nombre de livraisons, vous débloquerez l’option FlexPay vous permettant d’encaisser vos revenus tous les jours.")])])],1),a("v-col",{attrs:{xs:"12",md:"4"}},[a("v-card",[a("h3",[e._v("Découvrez votre ville")]),a("p",[e._v("Découvrez toutes les facettes de votre ville tout en effectuant des livraisons.")])])],1)],1),a("DeliveryManOperation"),a("JoinUsComponent")],1)],1)},Tt=[],Lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3 mb-8",attrs:{id:"d-operation-component"}},[a("v-container",{staticClass:"pr-0 pl-0"},[a("h2",[e._v("Fonctionnement de CESI Eats pour les coursiers")]),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"6",lg:"4"}},[a("v-card",{staticClass:"step-cards"},[a("v-img",{attrs:{src:s(7053),alt:"Inscription"}})],1),a("h3",[e._v("1. Inscription")]),a("p",[e._v("Le processus d’inscription CESI Eats est simple, rapide et gratuit : une fois votre compte créé, nous vous guiderons par SMS et email tout au long de votre inscription afin de connaître votre progression et les prochaines étapes à compléter.")])],1),a("v-col",{attrs:{xs:"12",sm:"6",lg:"4"}},[a("v-card",{staticClass:"step-cards"},[a("v-img",{attrs:{src:s(235),alt:"Documents requis"}})],1),a("h3",[e._v("2. Documents requis")]),a("ul",[a("li",[e._v("Une preuve de l'existence de votre entreprise (extrait KBIS ou l’avis de situation au repertoire SIRENE)")]),a("li",[e._v("Votre photo de profil. Elle doit permettre aux clients et aux restaurateurs de vous reconnaître : prenez-la de face et sur un fond clair.")]),a("li",[e._v("Votre pièce d’identité. Sont acceptés :")]),a("ul",[a("li",[e._v("Les cartes d'identité et passeports délivrés par un pays de l'Union Européenne ")]),a("li",[e._v("Les titres de séjour français autorisant la création d'une auto-entreprise")]),a("li",[e._v("Les récépissés de renouvellement de titre de séjour accompagné, sur la même photo, du titre de séjour expiré")]),a("li",[e._v("Les récépissés de première demande de titre de séjour seulement si accompagné d’un passeport")]),a("li",[e._v("Les Visas français (sauf si mention “étudiant”)")])])])],1),a("v-col",{attrs:{xs:"12",sm:"6",lg:"4"}},[a("v-card",{staticClass:"step-cards"},[a("v-img",{attrs:{src:s(8592),alt:"Validation du sac"}})],1),a("h3",[e._v("3. Validation du sac ")]),a("p",[e._v("Afin de pouvoir être validé, votre sac de livraison doit impérativement être isotherme et de dimension minimale 44cm (L) x 35cm (l) x 40cm (h). Si vous ne disposez pas d’un sac de livraison à votre disposition, vous pouvez le commander sur le site de notre partenaire. Plusieurs options et délais vous seront proposés pour la livraison (à domicile ou en Points Relais®).")])],1)],1)],1)],1)},Ft=[],At={name:"DeliveryManOperation"},Ot=At,Mt=(0,E.Z)(Ot,Lt,Ft,!1,null,"8167b014",null),Nt=Mt.exports;I()(Mt,{VCard:R.Z,VCol:X.Z,VContainer:W.Z,VImg:le.Z,VRow:ee.Z});var Ut={name:"RestaurantOwnerView",components:{DeliveryManOperation:Nt,JoinUsComponent:bt}},jt=Ut,Bt=(0,E.Z)(jt,$t,Tt,!1,null,"342f6e19",null),Gt=Bt.exports;I()(Bt,{VCard:R.Z,VCol:X.Z,VContainer:W.Z,VImg:le.Z,VRow:ee.Z});var Qt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt-3 mb-8",attrs:{id:"restaurants-view"}},[s("v-container",{staticClass:"pr-0 pl-0"},[s("v-row",{attrs:{id:"search-bars"}},[s("v-col",{attrs:{sm:"12",md:"12",lg:"3"}},[s("h2",[e._v("Offres du moment")])]),s("v-col",{attrs:{md:"6",lg:"4"}},[s("v-text-field",{attrs:{"hide-details":"","prepend-icon":"mdi-magnify",placeholder:"Ville...","single-line":""},model:{value:e.search.searchByCity,callback:function(t){e.$set(e.search,"searchByCity",t)},expression:"search.searchByCity"}})],1),s("v-col",{attrs:{md:"6",lg:"4"}},[s("v-text-field",{attrs:{"hide-details":"","prepend-icon":"mdi-magnify",placeholder:"Restaurant...","single-line":""},model:{value:e.search.searchByName,callback:function(t){e.$set(e.search,"searchByName",t)},expression:"search.searchByName"}})],1)],1),s("v-row",[s("v-col",{attrs:{md:"12",lg:"3"}},[s("v-card",{staticClass:"ma-auto",attrs:{"max-width":"80%"}},[s("v-list",[s("v-list-item",[e._v("Catégories :")]),e._l(e.getAllCategories(e.restaurants),(function(t,a){return[t?s("v-list-item",{key:"item-"+a,attrs:{value:t,"active-class":"text--accent-4"}},[s("v-checkbox",{attrs:{label:t,value:t},model:{value:e.search.categories,callback:function(t){e.$set(e.search,"categories",t)},expression:"search.categories"}})],1):s("v-divider",{key:"divider-"+a})]}))],2)],1)],1),s("v-col",{attrs:{md:"12",lg:"9"}},e._l(e.restaurantToDisplay(e.restaurants),(function(t){return s("v-card",{key:t.name,staticClass:"restaurant-cards mb-5",attrs:{elevation:"2",outlined:""}},[s("router-link",{staticClass:"text-decoration-none",attrs:{to:/restaurants/+e.nameForUrl(t.name)+"/"+t._id}},[s("v-row",[s("v-col",{attrs:{sm:"3"}},[s("v-img",{attrs:{src:t.image,alt:t.name,height:"100%"}})],1),s("v-col",{attrs:{sm:"9"}},[s("div",{staticClass:"restaurant-theme"},[s("v-card-title",[e._v(e._s(t.name))]),s("div",{staticClass:"categories"},e._l(t.categories,(function(t){return s("v-card-text",{key:t},[e._v(" "+e._s(t)+" ")])})),1)],1),s("v-card-subtitle",{staticClass:"text-justify"},[e._v(e._s(t.description))]),s("div",{staticClass:"restaurant-infos"},[s("v-card-subtitle",[e._v(e._s(t.location.city)+" ("+e._s(t.location.zipCode)+"), "+e._s(t.location.address))]),s("div",{staticClass:"opening-hours"},[s("v-card-text",[e._v(e._s(t.openingHours))])],1)],1)],1)],1)],1)],1)})),1)],1),e.pageCount>1?s("div",{staticClass:"text-center"},[s("v-pagination",{attrs:{length:e.pageCount},on:{input:e.nextPage},model:{value:e.pagination.pageNumber,callback:function(t){e.$set(e.pagination,"pageNumber",t)},expression:"pagination.pageNumber"}})],1):e._e()],1)],1)},Jt=[],Ht=(s(6699),{name:"RestaurantsView",data:()=>({search:{searchByCity:"",searchByName:"",categories:[]},pagination:{pageNumber:1,pageSize:5},restaurants:[]}),methods:{nameForUrl(e){return e.toLowerCase().normalize("NFD").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"-")},nextPage(e){this.pagination.pageNumber=e},getAllCategories(e){const t=[""];for(let s=0;s<e.length;s++)for(let a=0;a<e[s].categories.length;a++)t.includes(e[s].categories[a])||t.push(e[s].categories[a]);return t},restaurantToDisplay(e){const t=this.pagination.pageNumber*this.pagination.pageSize-this.pagination.pageSize,s=t+this.pagination.pageSize,a=e.filter((e=>e.location.city.toLowerCase().includes(this.search.searchByCity.toLowerCase()))),r=a.filter((e=>e.name.toLowerCase().includes(this.search.searchByName.toLowerCase()))),i=[];for(let n=0;n<r.length;n++)for(const e of this.search.categories)if(r[n].categories.includes(e)){i.push(r[n]);break}return 0===i.length?r.slice(t,s):i.slice(t,s)}},computed:{pageCount(){const e=this.restaurants.length,t=this.pagination.pageSize;return Math.ceil(e/t)}},mounted(){k().get("http://localhost:4200/api/v1/restaurants/").then((e=>this.restaurants=e.data)).catch((e=>console.log(e)))}}),Xt=Ht,Wt=s(6325),Kt=(0,E.Z)(Xt,Qt,Jt,!1,null,"0fba4020",null),Yt=Kt.exports;I()(Kt,{VCard:R.Z,VCardSubtitle:H.Qq,VCardText:H.ZB,VCardTitle:H.EB,VCheckbox:z.Z,VCol:X.Z,VContainer:W.Z,VDivider:fe.Z,VImg:le.Z,VList:$.Z,VListItem:T.Z,VPagination:Wt.Z,VRow:ee.Z,VTextField:se.Z});var es=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("v-row",[s("v-col",{attrs:{sm:"12",md:"5"}},[s("h2",[e._v("Mon restaurant "),s("v-dialog",{attrs:{"max-width":"80%"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[e.restaurant.error?s("v-btn",e._g(e._b({staticClass:"mx-2",attrs:{color:"primary",fab:"",small:""}},"v-btn",r,!1),a),[s("v-icon",[e._v("mdi-plus")])],1):s("v-btn",e._g(e._b({staticClass:"mx-2",attrs:{color:"primary",fab:"",small:""}},"v-btn",r,!1),a),[s("v-icon",[e._v("mdi-pencil")])],1)]}}]),model:{value:e.dialogs.restaurantDialog,callback:function(t){e.$set(e.dialogs,"restaurantDialog",t)},expression:"dialogs.restaurantDialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"text-h4"},[e._v("Gérer mon restaurant")])]),s("v-form",{ref:"restaurantForm",on:{submit:e.validateRestaurantSubmit},model:{value:e.validForm.restaurant,callback:function(t){e.$set(e.validForm,"restaurant",t)},expression:"validForm.restaurant"}},[s("v-container",[s("v-card-title",[s("span",{staticClass:"text-h6"},[e._v("Informations sur le restaurant")])]),s("v-row",[s("v-col",{attrs:{cols:"8",md:"4"}},[s("v-text-field",{attrs:{label:"Nom du restaurant",rules:e.rules},model:{value:e.restaurant.name,callback:function(t){e.$set(e.restaurant,"name",t)},expression:"restaurant.name"}})],1),s("v-col",{attrs:{cols:"8",md:"4"}},[s("v-text-field",{attrs:{label:"Catégorie(s)",hint:"Catégorie 1, Catégorie 2","persistent-hint":"",rules:e.rules},model:{value:e.restaurant.categories,callback:function(t){e.$set(e.restaurant,"categories",t)},expression:"restaurant.categories"}})],1),s("v-col",{attrs:{cols:"4",md:"4"}},[s("v-text-field",{attrs:{label:"Heures d'ouverture",hint:"Xh - Xh / Xh - Xh","persistent-hint":"",rules:e.rules},model:{value:e.restaurant.openingHours,callback:function(t){e.$set(e.restaurant,"openingHours",t)},expression:"restaurant.openingHours"}})],1),s("v-col",{attrs:{cols:"12",md:"12"}},[s("v-textarea",{attrs:{label:"Description"},model:{value:e.restaurant.description,callback:function(t){e.$set(e.restaurant,"description",t)},expression:"restaurant.description"}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"5"}},[s("v-text-field",{attrs:{label:"URL de l'image",rules:e.rules},model:{value:e.restaurant.image,callback:function(t){e.$set(e.restaurant,"image",t)},expression:"restaurant.image"}})],1)],1),s("v-card-title",[s("span",{staticClass:"text-h6 mt-5"},[e._v("Localisation du restaurant")])]),e.restaurant.error?s("v-row",[s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"Ville",rules:e.rules},model:{value:e.restaurant.city,callback:function(t){e.$set(e.restaurant,"city",t)},expression:"restaurant.city"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{label:"Adresse",rules:e.rules},model:{value:e.restaurant.address,callback:function(t){e.$set(e.restaurant,"address",t)},expression:"restaurant.address"}})],1),s("v-col",{attrs:{cols:"4",md:"2"}},[s("v-text-field",{attrs:{label:"Code postal",rules:e.rules},model:{value:e.restaurant.zipCode,callback:function(t){e.$set(e.restaurant,"zipCode",t)},expression:"restaurant.zipCode"}})],1)],1):e._e(),e.restaurant.location?s("v-row",[s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"Ville",rules:e.rules},model:{value:e.restaurant.location.city,callback:function(t){e.$set(e.restaurant.location,"city",t)},expression:"restaurant.location.city"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{label:"Adresse",rules:e.rules},model:{value:e.restaurant.location.address,callback:function(t){e.$set(e.restaurant.location,"address",t)},expression:"restaurant.location.address"}})],1),s("v-col",{attrs:{cols:"4",md:"2"}},[s("v-text-field",{attrs:{label:"Code postal",rules:e.rules},model:{value:e.restaurant.location.zipCode,callback:function(t){e.$set(e.restaurant.location,"zipCode",t)},expression:"restaurant.location.zipCode"}})],1)],1):e._e()],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{on:{click:function(t){e.dialogs.restaurantDialog=!1}}},[e._v("Fermer")]),e.restaurant.error?s("v-btn",{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:!e.validForm.restaurant},on:{click:e.createRestaurant}},[e._v("Ajouter")]):s("v-btn",{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:!e.validForm.restaurant},on:{click:e.validateRestaurant}},[e._v("Enregistrer")])],1)],1)],1)],1)],1)])],1),e.restaurant.error?s("v-row",[s("h3",{staticClass:"ml-3"},[e._v("Veuillez entrer votre enseigne")])]):s("v-row",{attrs:{id:"my-restaurant-view"}},[s("v-col",{attrs:{sm:"12",md:"4"}},[s("v-card",{staticClass:"restaurant-cards mb-5",attrs:{elevation:"2",outlined:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"12"}},[s("v-img",{attrs:{src:e.restaurant.image,alt:e.restaurant.name,height:"100%","max-height":"250px"}})],1),s("v-col",{attrs:{cols:"12",md:"12"}},[s("div",{staticClass:"restaurant-theme"},[s("v-card-title",[e._v(e._s(e.restaurant.name))]),s("div",{staticClass:"categories"},e._l(e.restaurant.categories,(function(t){return s("v-card-text",{key:t},[e._v(" "+e._s(t)+" ")])})),1)],1),s("v-card-subtitle",{staticClass:"text-justify"},[e._v(e._s(e.restaurant.description))]),e.restaurant.location?s("div",{staticClass:"restaurant-infos"},[s("v-card-subtitle",[e._v(e._s(e.restaurant.location.city)+" ("+e._s(e.restaurant.location.zipCode)+"), "+e._s(e.restaurant.location.address))]),s("div",{staticClass:"opening-hours"},[s("v-card-text",[e._v(e._s(e.restaurant.openingHours))])],1)],1):e._e()],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.deleteRestaurant(e.restaurant)}}},[e._v(" Supprimer "),s("v-icon",[e._v("mdi-delete")])],1)],1)],1)],1),s("v-col",{attrs:{sm:"12",md:"8"}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"12"}},[s("h3",[e._v("Mes produits "),s("v-dialog",{attrs:{"max-width":"50%"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[s("v-btn",e._g(e._b({staticClass:"mx-2",attrs:{color:"primary",fab:"",small:""}},"v-btn",r,!1),a),[s("v-icon",[e._v("mdi-plus")])],1)]}}]),model:{value:e.dialogs.productDialog,callback:function(t){e.$set(e.dialogs,"productDialog",t)},expression:"dialogs.productDialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"text-h4"},[e._v("Ajouter un produit")])]),s("v-form",{ref:"newProductForm",on:{submit:e.validateNewProductSubmit},model:{value:e.validForm.newProduct,callback:function(t){e.$set(e.validForm,"newProduct",t)},expression:"validForm.newProduct"}},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"5"}},[s("v-text-field",{attrs:{label:"Intitulé du produit",rules:e.rules},model:{value:e.newProduct.name,callback:function(t){e.$set(e.newProduct,"name",t)},expression:"newProduct.name"}})],1),s("v-col",{attrs:{cols:"12",md:"12"}},[s("v-textarea",{attrs:{label:"Description du produit"},model:{value:e.newProduct.description,callback:function(t){e.$set(e.newProduct,"description",t)},expression:"newProduct.description"}})],1),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"Prix du produit",type:"number",rules:e.rules},model:{value:e.newProduct.price,callback:function(t){e.$set(e.newProduct,"price",t)},expression:"newProduct.price"}})],1),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"Categorie(s)",hint:"Catégorie 1, Catégorie 2","persistent-hint":"",rules:e.rules},model:{value:e.newProduct.categories,callback:function(t){e.$set(e.newProduct,"categories",t)},expression:"newProduct.categories"}})],1),s("v-col",{attrs:{cols:"8",md:"8"}},[s("v-text-field",{attrs:{label:"URL de l'image",rules:e.rules},model:{value:e.newProduct.image,callback:function(t){e.$set(e.newProduct,"image",t)},expression:"newProduct.image"}})],1),s("v-col",{attrs:{cols:"8",md:"8"}},[s("v-checkbox",{attrs:{label:"Rupture de stock ?"},model:{value:e.newProduct.isOutOfStock,callback:function(t){e.$set(e.newProduct,"isOutOfStock",t)},expression:"newProduct.isOutOfStock"}})],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"mr-4",on:{click:function(t){e.dialogs.productDialog=!1}}},[e._v("Fermer")]),s("v-btn",{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:!e.validForm.newProduct},on:{click:e.validateNewProduct}},[e._v("Enregistrer")])],1)],1)],1)],1)],1)]),s("v-col",e._l(e.getAllCategories,(function(t){return s("v-row",{key:t},[s("v-col",{attrs:{cols:"12",md:"12"}},[s("ProductsComponent",{attrs:{restaurant:e.restaurant,products:e.products,category:t,modif:!0}})],1)],1)})),1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"12"}},[s("h3",[e._v("Mes menus "),s("v-dialog",{attrs:{"max-width":"50%"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[s("v-btn",e._g(e._b({staticClass:"mx-2",attrs:{color:"primary",fab:"",small:""}},"v-btn",r,!1),a),[s("v-icon",[e._v("mdi-plus")])],1)]}}],null,!1,1846877781),model:{value:e.dialogs.menuDialog,callback:function(t){e.$set(e.dialogs,"menuDialog",t)},expression:"dialogs.menuDialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"text-h4"},[e._v("Créer un menu")])]),s("v-form",{ref:"newMenuForm",on:{submit:e.validateNewMenuSubmit},model:{value:e.validForm.newMenu,callback:function(t){e.$set(e.validForm,"newMenu",t)},expression:"validForm.newMenu"}},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"5"}},[s("v-text-field",{attrs:{label:"Intitulé du menu",rules:e.rules},model:{value:e.newMenu.name,callback:function(t){e.$set(e.newMenu,"name",t)},expression:"newMenu.name"}})],1),s("v-col",{attrs:{cols:"12",md:"12"}},[s("v-textarea",{attrs:{label:"Description du menu"},model:{value:e.newMenu.description,callback:function(t){e.$set(e.newMenu,"description",t)},expression:"newMenu.description"}})],1),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"Prix du menu",type:"number",rules:e.rules},model:{value:e.newMenu.price,callback:function(t){e.$set(e.newMenu,"price",t)},expression:"newMenu.price"}})],1),s("v-col",{attrs:{cols:"8",md:"8"}},[s("v-text-field",{attrs:{label:"URL de l'image",rules:e.rules},model:{value:e.newMenu.image,callback:function(t){e.$set(e.newMenu,"image",t)},expression:"newMenu.image"}})],1),s("v-col",{attrs:{cols:"8",md:"4"}},[s("v-select",{attrs:{items:e.getAllProducts,label:"Produits",multiple:""},model:{value:e.newMenu.products,callback:function(t){e.$set(e.newMenu,"products",t)},expression:"newMenu.products"}})],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{on:{click:function(t){e.dialogs.menuDialog=!1}}},[e._v("Fermer")]),s("v-btn",{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:!e.validForm.newMenu},on:{click:e.validateNewMenu}},[e._v("Enregistrer")])],1)],1)],1)],1)],1)]),s("v-col",[s("v-col",{attrs:{cols:"12",md:"12"}},[s("MenusComponent",{attrs:{restaurant:e.restaurant,menus:e.menus,modif:!0}})],1)],1)],1)],1)],1)],1)},ts=[],ss=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"products-component"}},[s("v-container",[s("h3",[e._v(e._s(e.category))]),s("v-row",[s("v-col",{staticStyle:{height:"410px"}},[s("v-sheet",{staticClass:"mx-auto",attrs:{width:"100%"}},[s("v-slide-group",{staticClass:"pa-4",attrs:{multiple:"","show-arrows":""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.products.filter((function(t){return t.restaurantId===e.restaurant._id&&t.categories.includes(e.category)})),(function(t,a){return s("v-slide-item",{key:a,scopedSlots:e._u([{key:"default",fn:function(a){var r=a.active,i=a.toggle;return[s("v-card",{staticClass:"mx-auto",attrs:{outlined:"","max-width":"200"}},[s("v-img",{attrs:{src:t.image,height:"175px"}}),s("v-card-title",[e._v(" "+e._s(t.name)+" ")]),s("v-card-subtitle",[e._v(e._s(t.price)+" €")]),s("v-card-actions",[s("v-btn",{attrs:{text:"",color:"primary"},on:{click:i}},[e._v("Découvrir")]),s("v-spacer"),e.modif?s("v-btn",{staticClass:"mr-1",attrs:{icon:""}},[s("v-dialog",{attrs:{"max-width":"50%"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[s("v-btn",e._g(e._b({staticClass:"mx-2",attrs:{color:"primary",icon:"",fab:"",small:""}},"v-btn",r,!1),a),[s("v-icon",[e._v("mdi-pencil")])],1)]}},{key:"default",fn:function(a){return[s("v-card",[s("v-card-title",[s("span",{staticClass:"text-h4"},[e._v(e._s(t.name))])]),s("v-form",{ref:"productForm",refInFor:!0,attrs:{"lazy-validation":""},on:{submit:e.validateProductSubmit},model:{value:e.validProduct,callback:function(t){e.validProduct=t},expression:"validProduct"}},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"5"}},[s("v-text-field",{attrs:{label:"Intitulé du produit",rules:e.rules},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"product.name"}})],1),s("v-col",{attrs:{cols:"12",md:"12"}},[s("v-textarea",{attrs:{label:"Description du produit"},model:{value:t.description,callback:function(s){e.$set(t,"description",s)},expression:"product.description"}})],1),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"Prix du produit",type:"number",rules:e.rules},model:{value:t.price,callback:function(s){e.$set(t,"price",s)},expression:"product.price"}})],1),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"Categorie(s)",rules:e.rules},model:{value:t.categories,callback:function(s){e.$set(t,"categories",s)},expression:"product.categories"}})],1),s("v-col",{attrs:{cols:"8",md:"8"}},[s("v-text-field",{attrs:{label:"URL de l'image",rules:e.rules},model:{value:t.image,callback:function(s){e.$set(t,"image",s)},expression:"product.image"}})],1),s("v-col",{attrs:{cols:"8",md:"8"}},[s("v-checkbox",{attrs:{label:"Rupture de stock ?",required:""},model:{value:t.isOutOfStock,callback:function(s){e.$set(t,"isOutOfStock",s)},expression:"product.isOutOfStock"}})],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{on:{click:function(e){a.value=!1}}},[e._v(" Fermer ")]),s("v-btn",{attrs:{color:"error"},on:{click:function(s){e.deleteProduct(t),a.value=!1}}},[s("v-icon",[e._v("mdi-delete")]),e._v(" Supprimer ")],1),s("v-btn",{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:!e.validProduct},on:{click:function(s){e.validateProduct(t),a.value=!1}}},[e._v(" Enregistrer ")])],1)],1)],1)]}}],null,!0)})],1):e._e(),e.modif?e._e():s("div",{staticClass:"quantity-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"product.quantity"}],staticClass:"quantity-input",attrs:{type:"number",placeholder:"0",disabled:""},domProps:{value:t.quantity},on:{input:function(s){s.target.composing||e.$set(t,"quantity",s.target.value)}}})]),e.modif?e._e():s("v-spacer"),e.modif?e._e():s("div",{staticClass:"actions-container"},[s("v-btn",{staticClass:"mr-1",attrs:{icon:""},on:{click:function(s){return e.addToCart(t)}}},[s("v-icon",{attrs:{color:"primary"}},[e._v("mdi-plus-circle")])],1),s("v-btn",{staticClass:"mr-1",attrs:{icon:""},on:{click:function(s){return e.removeFromCart(t)}}},[s("v-icon",{attrs:{color:"primary"}},[e._v("mdi-minus-circle")])],1)],1)],1),s("v-expand-transition",[(e.reveal=!!r)?s("v-card",{staticClass:"transition-fast-in-fast-out v-card--reveal",staticStyle:{height:"100%"}},[s("v-card-title",[e._v(e._s(t.name))]),t.description?s("v-card-subtitle",{staticClass:"text-justify"},[e._v(e._s(t.description.slice(0,142)+"..."))]):e._e(),s("v-card-actions",{staticClass:"pt-0"},[s("v-btn",{attrs:{text:"",color:"primary"},on:{click:i}},[e._v("Fermer")])],1)],1):e._e()],1)],1)]}}],null,!0)})})),1)],1)],1)],1)],1)],1)},as=[],rs={name:"ProductsComponent",props:{restaurant:Object,products:Array,category:String,modif:Boolean},data:()=>({model:[],reveal:!1,validProduct:!1,rules:[e=>!!e||"Veuillez renseigner ce champs"]}),methods:{addToCart(e){this.$store.commit("addToCart",e)},removeFromCart(e){this.$store.commit("removeFromCart",e)},validateProduct(e){e.categories=e.categories.toString().split(","),k().patch("http://localhost:4500/api/v1/products/"+e._id,e).catch((e=>console.log(e)))},validateProductSubmit(){this.validProduct&&this.$refs.productForm.reset()},deleteProduct(e){k()["delete"]("http://localhost:4500/api/v1/products/"+e._id).catch((e=>console.log(e))),location.reload()}}},is=rs,ns=s(5827),os=s(3385),ls=s(7955),cs=s(4820),us=s(4350),ds=(0,E.Z)(is,ss,as,!1,null,"c0755d9e",null),vs=ds.exports;I()(ds,{VBtn:D.Z,VCard:R.Z,VCardActions:H.h7,VCardSubtitle:H.Qq,VCardTitle:H.EB,VCheckbox:z.Z,VCol:X.Z,VContainer:W.Z,VDialog:K.Z,VExpandTransition:ns.Fx,VForm:Y.Z,VIcon:P.Z,VImg:le.Z,VRow:ee.Z,VSheet:os.Z,VSlideGroup:ls.ZP,VSlideItem:cs.Z,VSpacer:te.Z,VTextField:se.Z,VTextarea:us.Z});var ms=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"menus-component"}},[s("v-container",[s("h3",[e._v("Menus")]),s("v-row",[s("v-col",{staticStyle:{height:"410px"}},[s("v-sheet",{staticClass:"mx-auto",attrs:{width:"100%"}},[s("v-slide-group",{staticClass:"pa-4",attrs:{multiple:"","show-arrows":""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.menus.filter((function(t){return t.restaurantId===e.restaurant._id})),(function(t,a){return s("v-slide-item",{key:a,scopedSlots:e._u([{key:"default",fn:function(a){var r=a.active,i=a.toggle;return[s("v-card",{staticClass:"mx-auto",attrs:{outlined:"","max-width":"200"}},[s("v-img",{attrs:{src:t.image,height:"175px"}}),s("v-card-title",[e._v(e._s(t.name))]),s("v-card-subtitle",[e._v(e._s(t.price)+" €")]),s("v-card-actions",[s("v-btn",{attrs:{text:"",color:"primary"},on:{click:i}},[e._v("Découvrir")]),s("v-spacer"),e.modif?s("v-btn",{staticClass:"mr-1",attrs:{icon:""}},[s("v-dialog",{attrs:{"max-width":"50%"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[s("v-btn",e._g(e._b({staticClass:"mx-2",attrs:{color:"primary",icon:"",fab:"",small:""}},"v-btn",r,!1),a),[s("v-icon",[e._v("mdi-pencil")])],1)]}},{key:"default",fn:function(a){return[s("v-card",[s("v-card-title",[s("span",{staticClass:"text-h4"},[e._v(e._s(t.name))])]),s("v-form",{ref:"menuForm",refInFor:!0,on:{submit:e.validateMenuSubmit},model:{value:e.validMenu,callback:function(t){e.validMenu=t},expression:"validMenu"}},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"5"}},[s("v-text-field",{attrs:{label:"Intitulé du menu",rules:e.rules},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"menu.name"}})],1),s("v-col",{attrs:{cols:"12",md:"12"}},[s("v-textarea",{attrs:{label:"Description du menu"},model:{value:t.description,callback:function(s){e.$set(t,"description",s)},expression:"menu.description"}})],1),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"Prix du menu",type:"number",rules:e.rules},model:{value:t.price,callback:function(s){e.$set(t,"price",s)},expression:"menu.price"}})],1),s("v-col",{attrs:{cols:"8",md:"8"}},[s("v-text-field",{attrs:{label:"URL du menu",rules:e.rules},model:{value:t.image,callback:function(s){e.$set(t,"image",s)},expression:"menu.image"}})],1),s("v-col",{attrs:{cols:"8",md:"4"}},[s("v-select",{attrs:{items:e.getAllProducts,label:"Produits",multiple:""},model:{value:t.products,callback:function(s){e.$set(t,"products",s)},expression:"menu.products"}})],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{on:{click:function(e){a.value=!1}}},[e._v(" Fermer ")]),s("v-btn",{attrs:{color:"error"},on:{click:function(s){e.deleteMenu(t),a.value=!1}}},[s("v-icon",[e._v("mdi-delete")]),e._v(" Supprimer ")],1),s("v-btn",{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:!e.validMenu},on:{click:function(s){e.validateMenu(t),a.value=!1}}},[e._v(" Enregistrer ")])],1)],1)],1)]}}],null,!0)})],1):e._e(),e.modif?e._e():s("div",{staticClass:"quantity-container"},[s("input",{staticClass:"quantity-input",attrs:{type:"number",disabled:""},domProps:{value:e.fetchQuantity(t)}})]),e.modif?e._e():s("v-spacer"),e.modif?e._e():s("div",{staticClass:"actions-container"},[s("v-btn",{staticClass:"mr-1",attrs:{icon:""},on:{click:function(s){return e.addToCart(t)}}},[s("v-icon",{attrs:{color:"primary"}},[e._v("mdi-plus-circle")])],1),s("v-btn",{staticClass:"mr-1",attrs:{icon:""},on:{click:function(s){return e.removeFromCart(t)}}},[s("v-icon",{attrs:{color:"primary"}},[e._v("mdi-minus-circle")])],1)],1)],1),s("v-expand-transition",[(e.reveal=!!r)?s("v-card",{staticClass:"transition-fast-in-fast-out v-card--reveal",staticStyle:{height:"100%"}},[s("v-card-title",[e._v(e._s(t.name))]),s("v-card-subtitle",{staticClass:"text-justify"},[t.description?s("p",[e._v(e._s(t.description.slice(0,80)+"..."))]):e._e(),e._v(" Produits disponibles: "),e._l(e.productsFromMenu(t),(function(t){return s("ul",{key:t},[s("li",[e._v(e._s(t))])])}))],2),s("v-card-actions",{staticClass:"pt-0"},[s("v-btn",{attrs:{text:"",color:"primary"},on:{click:i}},[e._v("Fermer")])],1)],1):e._e()],1)],1)]}}],null,!0)})})),1)],1)],1)],1)],1)],1)},ps=[],hs=s(629),fs={name:"MenusComponent",props:{restaurant:Object,menus:Array,modif:Boolean},data:()=>({model:[],products:[],reveal:!1,dialog:!1,validMenu:!1,rules:[e=>!!e||"Veuillez renseigner ce champs"]}),methods:{addToCart(e){this.$store.commit("addToCart",e)},removeFromCart(e){this.$store.commit("removeFromCart",e)},fetchQuantity(e){const t=this.cart.cart.find((t=>t.id===e.id&&t.name===e.name));return t?t.quantity:0},validateMenu(e){k().patch("http://localhost:4600/api/v1/menus/"+e._id,e).catch((e=>console.log(e)))},validateMenuSubmit(){this.validMenu&&this.$refs.menuForm.reset()},deleteMenu(e){k()["delete"]("http://localhost:4600/api/v1/menus/"+e._id).catch((e=>console.log(e))),location.reload()},productsFromMenu(e){const t=[];for(let s=0;s<this.products.filter((e=>e.restaurantId===this.restaurant._id)).length;s++)e.products.includes(this.products[s]._id)&&t.push(this.products[s].name);return t}},computed:{getAllProducts(){const e=[];for(let t=0;t<this.products.filter((e=>e.restaurantId===this.restaurant._id)).length;t++){const s=this.products[t].name;e.includes(s)||e.push(s)}return e},...(0,hs.rn)(["cart"])},mounted(){k().get("http://localhost:4500/api/v1/products/").then((e=>this.products=e.data)).catch((e=>console.log(e)))}},gs=fs,bs=(0,E.Z)(gs,ms,ps,!1,null,"432b3f86",null),Cs=bs.exports;I()(bs,{VBtn:D.Z,VCard:R.Z,VCardActions:H.h7,VCardSubtitle:H.Qq,VCardTitle:H.EB,VCol:X.Z,VContainer:W.Z,VDialog:K.Z,VExpandTransition:ns.Fx,VForm:Y.Z,VIcon:P.Z,VImg:le.Z,VRow:ee.Z,VSelect:Ke.Z,VSheet:os.Z,VSlideGroup:ls.ZP,VSlideItem:cs.Z,VSpacer:te.Z,VTextField:se.Z,VTextarea:us.Z});var _s={name:"MyRestaurantView",components:{ProductsComponent:vs,MenusComponent:Cs},data:()=>({user:w.state.user,restaurant:{},restaurants:[],products:[],newProduct:{name:"",description:"",price:null,image:"",categories:[],isOutOfStock:!1},menus:[],newMenu:{name:"",description:"",products:[],price:null,image:""},categories:[],dialogs:{restaurantDialog:!1,productDialog:!1,menuDialog:!1},validForm:{restaurant:!1,newProduct:!1,newMenu:!1},rules:[e=>!!e||"Veuillez renseigner ce champs"]}),methods:{createRestaurant(){const e={name:this.restaurant.name,description:this.restaurant.description,image:this.restaurant.image,categories:this.restaurant.categories.split(","),restaurantOwnerId:this.user.id,openingHours:this.restaurant.openingHours,location:{city:this.restaurant.city,zipCode:this.restaurant.zipCode,address:this.restaurant.address,latitude:0,longitude:0}};k().post("http://localhost:4200/api/v1/restaurants/",e).catch((e=>console.log(e)))},validateRestaurant(){this.restaurant.categories=this.restaurant.categories.toString().split(","),k().patch("http://localhost:4200/api/v1/restaurants/"+this.restaurant._id,this.restaurant).catch((e=>console.log(e)))},validateRestaurantSubmit(){this.validForm.restaurant&&(this.$refs.restaurantForm.reset(),this.dialogs.restaurantDialog=!1)},validateNewProduct(){const e={name:this.newProduct.name,description:this.newProduct.description,restaurantId:this.restaurant._id,price:this.newProduct.price,image:this.newProduct.image,categories:this.newProduct.categories.split(","),isOutOfStock:!1};k().post("http://localhost:4500/api/v1/products/",e).catch((e=>console.log(e)))},validateNewProductSubmit(){this.validForm.newProduct&&(this.$refs.newProductForm.reset(),this.dialogs.productDialog=!1)},validateNewMenu(){const e=[];for(let s=0;s<this.newMenu.products.length;s++){const t=this.products.find((e=>e.name===this.newMenu.products[s]));e.push(t._id)}const t={name:this.newMenu.name,description:this.newMenu.description,products:e,restaurantId:this.restaurant._id,price:this.newMenu.price,image:this.newMenu.image};k().post("http://localhost:4600/api/v1/menus/",t).catch((e=>console.log(e)))},validateNewMenuSubmit(){this.validForm.newMenu&&(this.$refs.newMenuForm.reset(),this.dialogs.restaurantDialog=!1)},deleteRestaurant(e){k()["delete"]("http://localhost:4200/api/v1/restaurants/"+e._id).catch((e=>console.log(e))),location.reload()}},computed:{getAllCategories(){const e=[],t=this.products.filter((e=>e.restaurantId===this.restaurant._id));for(let s=0;s<t.length;s++){const a=t[s].categories;for(let t=0;t<a.length;t++)e.includes(a[t])||e.push(a[t])}return e},getAllProducts(){const e=[];for(let t=0;t<this.products.filter((e=>e.restaurantId===this.restaurant._id)).length;t++){const s=this.products[t].name;e.includes(s)||e.push(s)}return e}},mounted(){k().get("http://localhost:4200/api/v1/restaurants/byowner/"+this.user.id).then((e=>this.restaurant=e.data)).catch((e=>console.log(e))),k().get("http://localhost:4200/api/v1/restaurants").then((e=>this.restaurants=e.data)).catch((e=>console.log(e))),k().get("http://localhost:4500/api/v1/products/").then((e=>this.products=e.data)).catch((e=>console.log(e))),k().get("http://localhost:4600/api/v1/menus/").then((e=>this.menus=e.data)).catch((e=>console.log(e)))}},xs=_s,ws=(0,E.Z)(xs,es,ts,!1,null,"1f899782",null),ys=ws.exports;I()(ws,{VBtn:D.Z,VCard:R.Z,VCardActions:H.h7,VCardSubtitle:H.Qq,VCardText:H.ZB,VCardTitle:H.EB,VCheckbox:z.Z,VCol:X.Z,VContainer:W.Z,VDialog:K.Z,VForm:Y.Z,VIcon:P.Z,VImg:le.Z,VRow:ee.Z,VSelect:Ke.Z,VSpacer:te.Z,VTextField:se.Z,VTextarea:us.Z});var ks=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt-3 mb-8",attrs:{id:"products-view"}},[s("v-container",{staticClass:"pr-0 pl-0"},[s("h2",[e._v("Notre sélection chez "+e._s(e.restaurant.name))]),s("v-row",[e.checkMenusByRestaurant?s("MenusComponent",{staticClass:"mt-3",attrs:{restaurant:e.restaurant,menus:e.menus,modif:!1}}):e._e()],1),e._l(e.getAllCategories,(function(t){return s("v-row",{key:t},[e.checkProductsByRestaurant(t)?s("ProductsComponent",{staticClass:"mt-3",attrs:{restaurant:e.restaurant,products:e.products,category:t,modif:!1}}):e._e()],1)}))],2)],1)},Vs=[],Ss={name:"ProductsView",components:{MenusComponent:Cs,ProductsComponent:vs},data:()=>({restaurant:{},restaurants:[],menus:[],products:[]}),methods:{checkProductsByRestaurant(e){for(let t=0;t<this.products.length;t++)if(this.products[t].categories.includes(e)&&this.products[t].restaurantId===this.restaurant._id)return!0;return!1}},computed:{checkMenusByRestaurant(){for(let e=0;e<this.menus.length;e++)if(this.menus[e].restaurantId===this.restaurant._id)return!0;return!1},getAllCategories(){const e=[];for(let t=0;t<this.products.length;t++){const s=this.products[t].categories;for(let t=0;t<s.length;t++)e.includes(s[t])||e.push(s[t])}return e}},mounted(){k().get("http://localhost:4200/api/v1/restaurants/").then((e=>this.restaurants=e.data)).catch((e=>console.log(e))),k().get("http://localhost:4200/api/v1/restaurants/"+this.$route.params.id).then((e=>this.restaurant=e.data)).catch((e=>console.log(e))),k().get("http://localhost:4600/api/v1/menus/").then((e=>this.menus=e.data)).catch((e=>console.log(e))),k().get("http://localhost:4500/api/v1/products/").then((e=>this.products=e.data)).catch((e=>console.log(e)))}},Es=Ss,Zs=(0,E.Z)(Es,ks,Vs,!1,null,"353ea29c",null),Is=Zs.exports;I()(Zs,{VContainer:W.Z,VRow:ee.Z});var qs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt-3 mb-8",attrs:{id:"cart-view"}},[s("v-container",{staticClass:"pr-0 pl-0"},[s("h2",[e._v("Mon panier")]),s("v-row",{staticClass:"mt-2"},[s("v-col",[0===e.getAllRestaurants.length?s("v-card",{staticClass:"mx-auto mb-5",attrs:{outlined:""}},[s("v-card-subtitle",{staticClass:"text-center"},[e._v("Complétez un panier en vous dirigeant vers "),s("a",{attrs:{href:"/restaurants",title:"Les restaurants"}},[e._v("les restaurants")])])],1):e._e(),e._l(e.getAllRestaurants,(function(t){return s("v-card",{key:t._id,staticClass:"mx-auto mb-5",attrs:{outlined:""}},[s("v-row",{staticClass:"mt-1 mb-1"},[s("v-col",{attrs:{sm:"3"}},[s("v-img",{staticClass:"ml-4",attrs:{src:t.image,alt:t.name,height:"100%"}})],1),s("v-col",{attrs:{sm:"9"}},[s("div",{staticClass:"restaurant-theme"},[s("v-card-title",[s("a",{staticClass:"text-decoration-none",attrs:{href:/restaurants/+e.nameForUrl(t.name)+"/"+t._id}},[e._v(" "+e._s(t.name)+" ")])]),s("div",{staticClass:"categories"},e._l(t.categories,(function(t){return s("v-card-text",{key:t},[e._v(" "+e._s(t)+" ")])})),1)],1),s("div",{staticClass:"restaurant-infos"},[s("v-card-subtitle",[e._v(e._s(t.location.city)+" ("+e._s(t.location.zipCode)+"), "+e._s(t.location.address))]),s("div",{staticClass:"opening-hours"},[s("v-card-text",[e._v(e._s(t.openingHours))])],1)],1),s("v-card-actions",[s("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.show=!e.show}}},[e._v(" Détails du panier "),s("v-icon",{attrs:{color:"primary"}},[e._v(e._s(e.show?"mdi-chevron-up":"mdi-chevron-down"))])],1),s("v-spacer"),s("v-btn",{staticClass:"mr-4",attrs:{color:"primary",text:""}},[s("ValidateCartComponent",{attrs:{restaurant:t,cart:e.cart.filter((function(e){return e.restaurantId===t._id})),"total-price":e.totalPrice}})],1),s("v-btn",{staticClass:"mr-4",attrs:{color:"error",text:""},on:{click:function(s){return e.removeAllFromCart(t)}}},[e._v(" Supprimer "),s("v-icon",{staticClass:"ml-1",attrs:{color:"error"}},[e._v("mdi-close-circle")])],1)],1),s("v-expand-transition",[s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[s("v-divider"),e.cart.length>0?s("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[e._v("Nom")]),s("th",{staticClass:"text-center"},[e._v("Quantité")]),s("th",{staticClass:"text-center"},[e._v("Prix unitaire")]),s("th",{staticClass:"text-center"},[e._v("Prix total")]),s("th",{staticClass:"text-center"},[e._v("Retirer")]),s("th",{staticClass:"text-center"},[e._v("Supprimer")])])]),s("tbody",[e._l(e.cart.filter((function(e){return e.restaurantId===t._id})),(function(t){return s("tr",{key:t.id},[s("td",[e._v(e._s(t.name))]),s("td",{staticClass:"text-center"},[e._v(e._s(t.quantity))]),s("td",{staticClass:"text-center"},[e._v(e._s(t.price)+" €")]),s("td",{staticClass:"text-center"},[e._v(e._s((t.quantity*t.price).toFixed(2))+" €")]),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:""},on:{click:function(s){return e.removeFromCart(t)}}},[s("v-icon",{attrs:{color:"primary"}},[e._v("mdi-minus-circle")])],1)],1),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:""},on:{click:function(s){return e.removeAllQuantityFromCart(t)}}},[s("v-icon",{attrs:{color:"error"}},[e._v("mdi-close-circle")])],1)],1)])})),s("tr",[s("td",{staticClass:"font-weight-bold"},[e._v("Total")]),s("td",{attrs:{colspan:"2"}}),s("td",{staticClass:"font-weight-bold text-center"},[e._v(e._s(e.totalPrice)+" €")]),s("td",{attrs:{colspan:"2"}})])],2)]},proxy:!0}],null,!0)}):e._e()],1)])],1)],1)],1)}))],2)],1)],1)],1)},Ds=[],Rs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[s("v-btn",e._g(e._b({attrs:{color:"primary"}},"v-btn",r,!1),a),[e._v("Valider mon panier")])]}}]),model:{value:e.validateCartDialog,callback:function(t){e.validateCartDialog=t},expression:"validateCartDialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"text-h4"},[e._v("Valider mon panier")])]),s("v-form",{ref:"cartForm",on:{submit:function(t){return t.preventDefault(),e.validateCartSubmit.apply(null,arguments)}},model:{value:e.validCart,callback:function(t){e.validCart=t},expression:"validCart"}},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("v-text-field",{attrs:{rules:e.rules.city,label:"Ville"},model:{value:e.order.location.city,callback:function(t){e.$set(e.order.location,"city",t)},expression:"order.location.city"}})],1),s("v-col",{attrs:{cols:"6"}},[s("v-text-field",{attrs:{rules:e.rules.zipCode,label:"Code postal"},model:{value:e.order.location.zipCode,callback:function(t){e.$set(e.order.location,"zipCode",t)},expression:"order.location.zipCode"}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{rules:e.rules.address,label:"Adresse"},model:{value:e.order.location.address,callback:function(t){e.$set(e.order.location,"address",t)},expression:"order.location.address"}})],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{on:{click:e.cancelButtonClick}},[e._v("Fermer")]),s("v-btn",{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:!e.validCart},on:{click:e.validateCart}},[e._v("Valider")])],1)],1)],1)],1)},zs=[],Ps={name:"ValidateCartComponent",props:{restaurant:{},cart:[],totalPrice:null},data:()=>({user:w.state.user,rules:{city:[e=>!!e||"Veuillez renseigner une ville"],zipCode:[e=>!!e||"Veuillez renseigner un code postal",e=>/[0-9].*$/.test(e)||"Format incorrect"],address:[e=>!!e||"Veuillez renseigner une adresse"]},order:{location:{city:"",zipCode:null,address:""}},validCart:!1,validateCartDialog:!1,show1:!0}),methods:{removeAllFromCart(e){this.$store.commit("removeAllFromCart",e)},validateCart(){const e=[],t=[];for(let a=0;a<this.cart.length;a++)this.cart[a].products?e.push({item:this.cart[a],quantity:this.cart[a].quantity}):t.push({item:this.cart[a],quantity:this.cart[a].quantity});const s={menus:e,products:t,restaurant:this.restaurant,prices:{orderPrice:this.totalPrice,deliveryPrice:2.99,totalPrice:parseFloat(this.totalPrice)+2.99},date:Date.now(),orderState:"En attente de préparation",customerId:this.user.id,location:{city:this.order.location.city,zipCode:this.order.location.zipCode,address:this.order.location.address,latitude:0,longitude:0}};k().post("http://localhost:4400/api/v1/orders/",s).catch((e=>console.log(e))),this.removeAllFromCart(this.restaurant)},cancelButtonClick(){this.validateCartDialog=!1,this.$refs.cartForm.reset()},validateCartSubmit(){this.validCart&&(this.$refs.cartForm.reset(),this.validateCartDialog=!1)}}},$s=Ps,Ts=(0,E.Z)($s,Rs,zs,!1,null,null,null),Ls=Ts.exports;I()(Ts,{VBtn:D.Z,VCard:R.Z,VCardActions:H.h7,VCardTitle:H.EB,VCol:X.Z,VContainer:W.Z,VDialog:K.Z,VForm:Y.Z,VRow:ee.Z,VSpacer:te.Z,VTextField:se.Z});var Fs={name:"CartView",components:{ValidateCartComponent:Ls},data:()=>({show:!1,cart:p.state.cart,restaurants:[]}),methods:{nameForUrl(e){return e.toLowerCase().normalize("NFD").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"-")},removeFromCart(e){this.$store.commit("removeFromCart",e)},removeAllQuantityFromCart(e){this.$store.commit("removeAllQuantityFromCart",e)},removeAllFromCart(e){this.$store.commit("removeAllFromCart",e)}},computed:{getAllRestaurants(){const e=[];for(let t=0;t<this.cart.length;t++){const s=this.restaurants.find((e=>e._id===this.cart[t].restaurantId));s&&!e.includes(s)&&e.push(s)}return e},totalPrice(){let e=0;for(const t of this.cart)e+=t.totalPrice;return e.toFixed(2)}},mounted(){k().get("http://localhost:4200/api/v1/restaurants/").then((e=>this.restaurants=e.data)).catch((e=>console.log(e)))}},As=Fs,Os=s(3568),Ms=(0,E.Z)(As,qs,Ds,!1,null,"e9751e48",null),Ns=Ms.exports;I()(Ms,{VBtn:D.Z,VCard:R.Z,VCardActions:H.h7,VCardSubtitle:H.Qq,VCardText:H.ZB,VCardTitle:H.EB,VCol:X.Z,VContainer:W.Z,VDivider:fe.Z,VExpandTransition:ns.Fx,VIcon:P.Z,VImg:le.Z,VRow:ee.Z,VSimpleTable:Os.Z,VSpacer:te.Z});var Us=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt-3 mb-8",attrs:{id:"orders-view"}},[s("v-container",{staticClass:"pr-0 pl-0"},[s("h2",[e._v("Mes commandes")]),s("v-row",{staticClass:"mt-2"},[s("v-col",e._l(e.orders.filter((function(t){return t.customerId===e.user.id||t.restaurant.restaurantOwnerId})),(function(t){return s("v-card",{key:t.id,staticClass:"mx-auto mb-5",attrs:{outlined:""}},[s("v-row",{staticClass:"mt-1 mb-1"},[s("v-col",{attrs:{sm:"3"}},[s("v-img",{staticClass:"ml-4",attrs:{src:t.restaurant.image,alt:t.name,height:"100%"}})],1),s("v-col",{attrs:{sm:"9"}},[s("div",{staticClass:"restaurant-theme"},[s("v-card-title",[e._v(" "+e._s(t.restaurant.name)+" ")]),s("div",{staticClass:"categories"},e._l(t.restaurant.categories,(function(t){return s("v-card-text",{key:t},[e._v(" "+e._s(t)+" ")])})),1)],1),s("div",{staticClass:"restaurant-infos"},[s("v-card-subtitle",[e._v(e._s(t.location.city)+" ("+e._s(t.location.zipCode)+"), "+e._s(t.location.address))]),s("div",{staticClass:"opening-hours"},[s("v-card-text",[e._v(e._s(t.restaurant.openingHours))])],1)],1),s("v-card-actions",[s("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.show=!e.show}}},[e._v(" Détails de la commande "),s("v-icon",{attrs:{color:"primary"}},[e._v(e._s(e.show?"mdi-chevron-up":"mdi-chevron-down"))])],1),s("v-spacer"),2===e.user.roleId&&"En attente de préparation"===t.orderState?s("v-btn",{staticClass:"mr-4",attrs:{color:"secondary",text:""}},[s("ValidateOrderComponent",{attrs:{order:t}})],1):e._e(),1===e.user.roleId&&"En attente de préparation"===t.orderState?s("v-btn",{staticClass:"mr-4",attrs:{text:""}},[e._v(" "+e._s(t.orderState)+" "),s("v-icon",{staticClass:"ml-1"},[e._v("mdi-alarm")])],1):e._e(),"En attente de livraison"===t.orderState?s("v-btn",{staticClass:"mr-4",attrs:{color:"secondary",text:""}},[e._v(" "+e._s(t.orderState)+" "),s("v-icon",{staticClass:"ml-1"},[e._v("mdi-alarm")])],1):e._e(),"Livrée"===t.orderState?s("v-btn",{staticClass:"mr-4",attrs:{color:"primary",text:""}},[e._v(" "+e._s(t.orderState)+" "),s("v-icon",{staticClass:"ml-1"},[e._v("mdi-check-circle")])],1):e._e()],1),s("v-expand-transition",[s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[s("v-divider"),s("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[e._v("Nom")]),s("th",{staticClass:"text-center"},[e._v("Quantité")]),s("th",{staticClass:"text-center"},[e._v("Prix unitaire")]),s("th",{staticClass:"text-center"},[e._v("Prix total")])])]),s("tbody",[e._l(t.menus.concat(t.products),(function(t){return s("tr",{key:t.item.id},[s("td",{staticClass:"text-left"},[e._v(e._s(t.item.name))]),s("td",{staticClass:"text-center"},[e._v(e._s(t.quantity))]),s("td",{staticClass:"text-center"},[e._v(e._s(t.item.price)+" €")]),s("td",{staticClass:"text-center"},[e._v(e._s(t.quantity*t.item.price)+" €")])])})),s("tr",[s("td",[e._v("Prix de la livraison")]),s("td",{attrs:{colspan:"2"}}),s("td",{staticClass:"text-center"},[e._v(e._s(t.prices.deliveryPrice)+" €")])]),s("tr",[s("td",{staticClass:"font-weight-bold"},[e._v("Total")]),s("td",{attrs:{colspan:"2"}}),s("td",{staticClass:"font-weight-bold text-center"},[e._v(e._s(t.prices.totalPrice)+" €")])])],2)]},proxy:!0}],null,!0)})],1)])],1)],1)],1)})),1)],1)],1)],1)},js=[],Bs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[s("v-btn",e._g(e._b({attrs:{color:"primary"}},"v-btn",r,!1),a),[e._v("Valider la commande")])]}}]),model:{value:e.validateOrderDialog,callback:function(t){e.validateOrderDialog=t},expression:"validateOrderDialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"text-h4"},[e._v("Valider la commande")])]),s("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.validateOrderSubmit.apply(null,arguments)}},model:{value:e.validOrder,callback:function(t){e.validOrder=t},expression:"validOrder"}},[s("v-card-actions",[s("v-spacer"),s("v-btn",{on:{click:e.cancelButtonClick}},[e._v("Fermer")]),s("v-btn",{staticClass:"mr-4",attrs:{color:"primary",disabled:!e.validOrder},on:{click:e.validateOrder}},[e._v("Valider")])],1)],1)],1)],1)},Gs=[],Qs={name:"ValidateOrderComponent",props:{order:{}},data:()=>({user:w.state.user,deliveryMan:[],validOrder:!1,validateOrderDialog:!1,show1:!0}),methods:{validateOrder(){k().patch("http://localhost:4400/api/v1/orders/"+this.order._id,{orderState:"En attente de livraison"}).catch((e=>console.log(e)));const e={order:this.order,restaurant:this.order.restaurant,date:Date.now(),deliveryState:"En attente de livraison",deliveryManId:this.deliveryMan.id,customerId:this.order.customerId,location:{city:this.order.location.city,zipCode:this.order.location.zipCode,address:this.order.location.address,latitude:this.order.location.latitude,longitude:this.order.location.longitude}};k().post("http://localhost:4300/api/v1/deliveries/",e).catch((e=>console.log(e))),location.reload()},cancelButtonClick(){this.validateOrderDialog=!1,this.$refs.form.reset()},validateOrderSubmit(){this.validOrder&&(this.$refs.form.reset(),this.validateOrderDialog=!1)}},mounted(){k().get("http://localhost:4300/api/v1/deliveries/deliveryman/").then((e=>this.deliveryMan=e.data)).catch((e=>console.log(e)))}},Js=Qs,Hs=(0,E.Z)(Js,Bs,Gs,!1,null,null,null),Xs=Hs.exports;I()(Hs,{VBtn:D.Z,VCard:R.Z,VCardActions:H.h7,VCardTitle:H.EB,VDialog:K.Z,VForm:Y.Z,VSpacer:te.Z});var Ws={name:"OrdersView",components:{ValidateOrderComponent:Xs},data:()=>({user:w.state.user,show:!1,orders:[]}),mounted(){k().get("http://localhost:4400/api/v1/orders/").then((e=>this.orders=e.data)).catch((e=>console.log(e)))}},Ks=Ws,Ys=(0,E.Z)(Ks,Us,js,!1,null,"5af7235c",null),ea=Ys.exports;I()(Ys,{VBtn:D.Z,VCard:R.Z,VCardActions:H.h7,VCardSubtitle:H.Qq,VCardText:H.ZB,VCardTitle:H.EB,VCol:X.Z,VContainer:W.Z,VDivider:fe.Z,VExpandTransition:ns.Fx,VIcon:P.Z,VImg:le.Z,VRow:ee.Z,VSimpleTable:Os.Z,VSpacer:te.Z});var ta=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt-3 mb-8",attrs:{id:"deliveries-view"}},[s("v-container",{staticClass:"pr-0 pl-0"},[s("h2",[e._v("Mes livraisons")]),s("v-row",{staticClass:"mt-2"},[s("v-col",e._l(e.deliveries.filter((function(t){return t.deliveryManId===e.user.id})),(function(t){return s("v-card",{key:t.id,staticClass:"mx-auto mb-5",attrs:{outlined:""}},[s("v-row",{staticClass:"mt-1 mb-1"},[s("v-col",{attrs:{sm:"3"}},[s("v-img",{staticClass:"ml-4",attrs:{src:t.restaurant.image,alt:t.name,height:"100%"}})],1),s("v-col",{attrs:{sm:"9"}},[s("div",{staticClass:"restaurant-theme"},[s("v-card-title",[e._v(" "+e._s(t.restaurant.name)+" ")]),s("div",{staticClass:"categories"},e._l(t.restaurant.categories,(function(t){return s("v-card-text",{key:t},[e._v(" "+e._s(t)+" ")])})),1)],1),s("div",{staticClass:"restaurant-infos"},[s("v-card-subtitle",[e._v(e._s(t.location.city)+" ("+e._s(t.location.zipCode)+"), "+e._s(t.location.address))]),s("div",{staticClass:"opening-hours"},[s("v-card-text",[e._v(e._s(t.restaurant.openingHours))])],1)],1),s("v-card-actions",[s("v-spacer"),"En attente de livraison"===t.deliveryState?s("v-btn",{staticClass:"mr-4",attrs:{text:""}},[s("ValidateDeliveryComponent",{attrs:{delivery:t,action:"Accepter"}})],1):e._e(),"En attente de livraison"===t.deliveryState?s("v-btn",{staticClass:"mr-4",attrs:{text:""}},[s("ValidateDeliveryComponent",{attrs:{delivery:t,action:"Refuser"}})],1):e._e(),"En cours de livraison"===t.deliveryState?s("v-btn",{staticClass:"mr-4",attrs:{text:""}},[s("ValidateDeliveryComponent",{attrs:{delivery:t,action:"Confirmer"}})],1):e._e(),"Livrée"===t.deliveryState?s("v-btn",{staticClass:"mr-4",attrs:{color:"primary",text:""}},[e._v(" "+e._s(t.deliveryState)+" "),s("v-icon",{staticClass:"ml-1"},[e._v("mdi-check-circle")])],1):e._e()],1)],1)],1)],1)})),1)],1)],1)],1)},sa=[],aa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return["Accepter"===e.action?s("v-btn",e._g(e._b({attrs:{color:"primary"}},"v-btn",r,!1),a),[e._v("Accepter")]):e._e(),"Refuser"===e.action?s("v-btn",e._g(e._b({attrs:{color:"error"}},"v-btn",r,!1),a),[e._v("Refuser")]):e._e(),"Confirmer"===e.action?s("v-btn",e._g(e._b({attrs:{color:"primary"}},"v-btn",r,!1),a),[e._v("Confirmer la livraison")]):e._e()]}}]),model:{value:e.validateDeliveryDialog,callback:function(t){e.validateDeliveryDialog=t},expression:"validateDeliveryDialog"}},[s("v-card",[s("v-card-title",["Accepter"===e.action?s("span",{staticClass:"text-h4"},[e._v("Accepter la livraison")]):e._e(),"Refuser"===e.action?s("span",{staticClass:"text-h4"},[e._v("Refuser la livraison")]):e._e(),"Confirmer"===e.action?s("span",{staticClass:"text-h4"},[e._v("Confirmer la livraison")]):e._e()]),s("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.validateDeliverySubmit.apply(null,arguments)}},model:{value:e.validDelivery,callback:function(t){e.validDelivery=t},expression:"validDelivery"}},[s("v-card-actions",[s("v-spacer"),s("v-btn",{on:{click:e.cancelButtonClick}},[e._v("Fermer")]),s("v-btn",{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:!e.validDelivery},on:{click:e.validateDelivery}},[e._v("Enregistrer")])],1)],1)],1)],1)},ra=[],ia={name:"ValidateDeliveryComponent",props:{delivery:{},action:String},data:()=>({newDeliveryMan:{},validDelivery:!1,validateDeliveryDialog:!1,show1:!0}),methods:{validateDelivery(){"Accepter"===this.action&&(k().patch("http://localhost:4300/api/v1/deliveries/"+this.delivery._id,{deliveryState:"En cours de livraison"}).catch((e=>console.log(e))),k().patch("http://localhost:4400/api/v1/orders/"+this.delivery.order._id,{orderState:"En cours de livraison"}).catch((e=>console.log(e)))),"Refuser"===this.action&&k().patch("http://localhost:4300/api/v1/deliveries/"+this.delivery._id,{deliveryManId:this.newDeliveryMan.id}).catch((e=>console.log(e))),"Confirmer"===this.action&&(k().patch("http://localhost:4300/api/v1/deliveries/"+this.delivery._id,{deliveryState:"Livrée"}).catch((e=>console.log(e))),k().patch("http://localhost:4400/api/v1/orders/"+this.delivery.order._id,{orderState:"Livrée"}).catch((e=>console.log(e)))),location.reload()},cancelButtonClick(){this.validateDeliveryDialog=!1,this.$refs.form.reset()},validateDeliverySubmit(){this.validDelivery&&(this.$refs.form.reset(),this.validateDeliveryDialog=!1)}},mounted(){k().get("http://localhost:4300/api/v1/deliveries/deliveryman/"+this.delivery.deliveryManId).then((e=>this.newDeliveryMan=e.data)).catch((e=>console.log(e)))}},na=ia,oa=(0,E.Z)(na,aa,ra,!1,null,null,null),la=oa.exports;I()(oa,{VBtn:D.Z,VCard:R.Z,VCardActions:H.h7,VCardTitle:H.EB,VDialog:K.Z,VForm:Y.Z,VSpacer:te.Z});var ca={name:"DeliveriesView",components:{ValidateDeliveryComponent:la},data:()=>({user:w.state.user,deliveries:[]}),mounted(){k().get("http://localhost:4300/api/v1/deliveries/").then((e=>this.deliveries=e.data)).catch((e=>console.log(e)))}},ua=ca,da=(0,E.Z)(ua,ta,sa,!1,null,"6898a978",null),va=da.exports;I()(da,{VBtn:D.Z,VCard:R.Z,VCardActions:H.h7,VCardSubtitle:H.Qq,VCardText:H.ZB,VCardTitle:H.EB,VCol:X.Z,VContainer:W.Z,VIcon:P.Z,VImg:le.Z,VRow:ee.Z,VSpacer:te.Z});var ma=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{staticClass:"mx-auto mt-4",attrs:{width:"98%"}},[s("v-card-title",{staticClass:"text-h4 "},[e._v(" Comptes utilisateur "),s("v-spacer"),s("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Nom de l'utilisateur","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),s("v-data-table",{attrs:{headers:e.headers,items:e.users,search:e.search,"sort-by":"lastname"},scopedSlots:e._u([{key:"top",fn:function(){return[s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),s("v-spacer"),s("v-dialog",{attrs:{"max-width":"80%"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"text-h4"},[e._v(e._s(e.editedUser.firstname)+" "+e._s(e.editedUser.lastname))])]),s("v-form",{ref:"registerForm",on:{submit:function(t){return t.preventDefault(),e.registerSubmit.apply(null,arguments)}},model:{value:e.validProfile,callback:function(t){e.validProfile=t},expression:"validProfile"}},[s("v-container",[s("v-card-title",[s("span",{staticClass:"text-h6"},[e._v("Données personnelles")])]),s("v-row",[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{rules:e.firstNameRules,label:"Prénom*"},model:{value:e.editedUser.firstname,callback:function(t){e.$set(e.editedUser,"firstname",t)},expression:"editedUser.firstname"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{rules:e.lastNameRules,label:"Nom*"},model:{value:e.editedUser.lastname,callback:function(t){e.$set(e.editedUser,"lastname",t)},expression:"editedUser.lastname"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail*"},model:{value:e.editedUser.mail,callback:function(t){e.$set(e.editedUser,"mail",t)},expression:"editedUser.mail"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{rules:e.phoneRules,label:"Téléphone*"},model:{value:e.editedUser.phone,callback:function(t){e.$set(e.editedUser,"phone",t)},expression:"editedUser.phone"}})],1)],1),s("v-card-title",[s("span",{staticClass:"text-h6"},[e._v("Informations de livraison par défaut")])]),s("v-row",[s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"Ville*",rules:e.cityRules},model:{value:e.editedUser.city,callback:function(t){e.$set(e.editedUser,"city",t)},expression:"editedUser.city"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{label:"Adresse*",rules:e.addressRules},model:{value:e.editedUser.address,callback:function(t){e.$set(e.editedUser,"address",t)},expression:"editedUser.address"}})],1),s("v-col",{attrs:{cols:"4",md:"2"}},[s("v-text-field",{attrs:{label:"Code postal*",rules:e.zipRules},model:{value:e.editedUser.zipCode,callback:function(t){e.$set(e.editedUser,"zipCode",t)},expression:"editedUser.zipCode"}})],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{on:{click:function(t){e.dialog=!1}}},[e._v(" Fermer ")]),s("v-btn",{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:!e.validProfile},on:{click:e.updateUser}},[e._v(" Enregistrer ")])],1)],1)],1)],1),s("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[s("v-card",[s("v-card-title",{staticClass:"text-h5"},[e._v("Etes-vous sûr de vouloir supprimer ce compte ?")]),s("div",{staticClass:"text-h6 mx-auto",attrs:{id:"compte"}},[e._v(e._s(e.editedUser.firstname)+" "+e._s(e.editedUser.lastname))]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary",text:""},on:{click:e.closeDelete}},[e._v("Annuler")]),s("v-btn",{attrs:{color:"error",text:""},on:{click:e.deleteUserConfirm}},[e._v("Continuer")]),s("v-spacer")],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[s("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"primary"},on:{click:function(t){return e.editUser(a)}}},[e._v(" mdi-pencil ")]),s("v-icon",{staticClass:"mr-2",attrs:{color:"orange",small:""},on:{click:function(t){return e.suspendUser(a)}}},[e._v(" mdi-minus-circle ")]),s("v-icon",{attrs:{small:"",color:"error"},on:{click:function(t){return e.deleteUser(a)}}},[e._v(" mdi-delete ")])]}}],null,!0)})],1)},pa=[],ha={name:"RegisterComponent",data:()=>({search:"",dialog:!1,dialogDelete:!1,editedIndex:-1,validProfile:!1,users:[],editedUser:{lsatname:"",firstname:"",role:"",mail:"",phone:"",city:"",address:"",zipCode:"",isSuspended:null},headers:[{text:"Nom",align:"start",sortable:!0,value:"lastname"},{text:"Prénom",value:"firstname"},{text:"Rôle ID",value:"roleId"},{text:"E-mail",value:"mail"},{text:"Téléphone",value:"phone"},{text:"Ville",value:"city"},{text:"Adresse",value:"address"},{text:"Code postal",value:"zipCode"},{text:"Création du compte",value:"createdAt"},{text:"Suspendu",value:"isSuspended"},{text:"Actions",value:"actions",sortable:!1}],firstNameRules:[e=>!!e||"Veuillez renseigner votre prénom"],lastNameRules:[e=>!!e||"Veuillez renseigner votre nom"],emailRules:[e=>!!e||"Veuillez renseigner votre E-mail",e=>/.+@.+/.test(e)||"le format est incorrect"],passwordRules:[e=>!!e||"Veuillez renseigner votre mot de passe",e=>/^(?=.{8,}$)(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).*$/.test(e)||"Le mot de passe doit contenir au moins 8 caractères dont minimum 1 minuscule, 1 majuscule et 1 chiffre"],roleRules:[e=>!!e||"Veuillez sélectionner votre rôle"],phoneRules:[e=>!!e||"Veuillez renseigner votre numéro de téléphone",e=>/^(0|\+33)[1-9]([-. ]?[0-9]{2}){4}$/.test(e)||"Format incorrect (+33xx ou 0xx)"],cityRules:[e=>!!e||"Veuillez renseigner votre ville"],addressRules:[e=>!!e||"Veuillez renseigner votre addresse"],zipRules:[e=>!!e||"Veuillez renseigner votre code postal",e=>/^[0-9]*$/.test(e)||"Format incorrect"],thumbnail:[e=>!!e||"Veuillez entrer une URL"]}),methods:{editUser(e){this.editedIndex=this.users.indexOf(e),this.editedUser=Object.assign({},e),this.dialog=!0},deleteUser(e){this.editedIndex=this.users.indexOf(e),this.editedUser=Object.assign({},e),this.dialogDelete=!0},deleteUserConfirm(){this.users.splice(this.editedIndex,1),k()["delete"]("http://localhost:4100/api/v1/users/"+this.editedUser.id).catch((e=>console.log(e))),this.closeDelete(),k().post("http://localhost:4000/api/v1/auth/logout",{id:this.editedUser.id}).then((()=>{window.localStorage.clear(),location.reload()})).catch((e=>console.log(e)))},close(){this.dialog=!1,this.$nextTick((()=>{this.editedUser=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedUser=Object.assign({},this.defaultItem),this.editedIndex=-1}))},updateUser(){this.editedIndex>-1?Object.assign(this.users[this.editedIndex],this.editedUser):this.users.push(this.editedUser),k().patch("http://localhost:4100/api/v1/users/"+this.editedUser.id,this.editedUser).catch((e=>console.log(e))),this.dialog=!1,this.editedIndex=-1},suspendUser(e){this.editedIndex=this.users.indexOf(e),this.editedUser=Object.assign({},e),!0===this.editedUser.isSuspended?k().patch("http://localhost:4100/api/v1/users/"+this.editedUser.id,{isSuspended:!1}).catch((e=>console.log(e))):k().patch("http://localhost:4100/api/v1/users/"+this.editedUser.id,{isSuspended:!0}).catch((e=>console.log(e))),this.editedIndex=-1,location.reload()}},mounted(){k().get("http://localhost:4100/api/v1/users/").then((e=>{this.users=e.data})).catch((e=>console.log(e)))},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}}},fa=ha,ga=s(6957),ba=(0,E.Z)(fa,ma,pa,!1,null,"5067e3dd",null),Ca=ba.exports;I()(ba,{VBtn:D.Z,VCard:R.Z,VCardActions:H.h7,VCardTitle:H.EB,VCol:X.Z,VContainer:W.Z,VDataTable:ga.Z,VDialog:K.Z,VDivider:fe.Z,VForm:Y.Z,VIcon:P.Z,VRow:ee.Z,VSpacer:te.Z,VTextField:se.Z});var _a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dashboard"},[s("v-container",[s("v-subheader",{staticClass:"py-0 d-flex justify-space-between rounded-lg"},[s("h2",[e._v("Tableau de bord")])]),s("br"),s("v-row",[s("v-col",{attrs:{lg:"6",cols:"12"}},[s("v-row",e._l(e.statistics,(function(t,a){return s("v-col",{key:a,attrs:{sm:"6",cols:"12"}},[s("v-card",{staticClass:"rounded-lg",attrs:{elevation:"2"}},[s("v-card-text",{staticClass:"d-flex justify-space-between align-center"},[s("div",[s("strong",[e._v(e._s(t.title))]),e._v(" "),s("br"),s("span",[e._v("Depuis notre création")])]),s("v-avatar",{staticStyle:{border:"3px solid #444"},attrs:{size:"60",color:t.color}},[0===a?s("span",{staticStyle:{color:"white","font-size":"16px","font-weight":"bold"}},[e._v(e._s(e.amount.users.usersCount))]):e._e(),1===a?s("span",{staticStyle:{color:"white","font-size":"16px","font-weight":"bold"}},[e._v(e._s(e.amount.restaurants.restaurantsCount))]):e._e(),2===a?s("span",{staticStyle:{color:"white","font-size":"16px","font-weight":"bold"}},[e._v(e._s(e.amount.menus.menusCount))]):e._e(),3===a?s("span",{staticStyle:{color:"white","font-size":"16px","font-weight":"bold"}},[e._v(e._s(e.amount.products.productsCount))]):e._e(),4===a?s("span",{staticStyle:{color:"white","font-size":"16px","font-weight":"bold"}},[e._v(e._s(e.amount.orders.ordersCount))]):e._e(),5===a?s("span",{staticStyle:{color:"white","font-size":"16px","font-weight":"bold"}},[e._v(e._s(e.amount.deliveries.deliveriesCount))]):e._e()])],1)],1)],1)})),1)],1),s("v-col",{attrs:{lg:"6",cols:"12"}},[s("div",{attrs:{id:"chart"}},[s("h3",[e._v("Répartition des rôles utilisateurs")]),s("VueApexCharts",{attrs:{type:"donut",options:e.chartOptions,series:[e.amount.users.customersCount,e.amount.users.restaurantOwnersCount,e.amount.users.deliveryMansCount,e.amount.users.technicalDepartmentCount,e.amount.users.comercialDepartmentsCount,e.amount.users.externalsCount]}})],1)]),s("v-col",{attrs:{md:"4",cols:"12"}},[s("v-card",[s("v-card-title",[e._v("Activités")]),s("v-card-text",{staticClass:"py-0"},[s("v-timeline",{attrs:{"align-top":"",dense:""}},e._l(this.orders.slice(0,5),(function(t){return s("v-timeline-item",{key:t,attrs:{small:"",color:"Livrée"===t.orderState?"#4caf4f":"#85e783"}},[s("strong",[e._v("Depuis : "+e._s(new Date(Date.now()-t.date-36e5).toLocaleTimeString()))]),s("div",{staticClass:"text-caption"},[s("span",[e._v("Une commande ")]),"En attente de préparation"===t.orderState?s("span",[e._v(" est en attente de préparation. ")]):e._e(),"En attente de livraison"===t.orderState||"En attente de livraison"===t.deliveryState?s("span",[e._v(" est en attente de livraison. ")]):e._e(),"En cours de livraison"===t.orderState||"En cours de livraison"===t.deliveryState?s("span",[e._v(" est en cours de livraison. ")]):e._e(),"Livrée"===t.orderState||"Livrée"===t.deliveryState?s("span",[e._v(" vient d'être livrée ! ")]):e._e()])])})),1)],1)],1)],1),s("v-col",{attrs:{md:"8",cols:"12"}},[s("v-card",[s("v-data-table",{staticClass:"elevation-1",attrs:{caption:"Liste des dernières commandes",headers:this.headers,items:this.orders,"items-per-page":5},scopedSlots:e._u([{key:"item.date",fn:function(t){var a=t.item;return[s("span",[e._v(e._s(new Date(a.date).toLocaleString()))])]}}],null,!0)})],1)],1)],1)],1)],1)},xa=[],wa=s(7166),ya=s.n(wa),ka={name:"StatisticsView",components:{VueApexCharts:ya()},data:()=>({amount:{users:0,restaurants:0,menus:0,products:0,orders:0,deliveries:0},statistics:[{title:"Total des utilisateurs",color:"primary lighten-2"},{title:"Total des restaurants",color:"primary lighten-1"},{title:"Total des menus",color:"primary"},{title:"Total des produits",color:"primary darken-1"},{title:"Total des commandes",color:"primary darken-2"},{title:"Total des livraisons",color:"primary darken-3"}],chartOptions:{chart:{width:"100%",type:"donut"},labels:["Clients","Restaurateurs","Livreurs","Service commercial","Service technique","Développeur externe"],colors:["#85e783","#69cb69","#4caf4f","#2d9437","#00791e","#006000"],fill:{colors:["#85e783","#69cb69","#4caf4f","#2d9437","#00791e","#006000"]}},orders:[],headers:[{text:"Restaurant",value:"restaurant.name"},{text:"Ville",value:"location.city"},{text:"Code postal",value:"location.zipCode"},{text:"État",value:"orderState"},{text:"Date",value:"date",dataType:"Date"}]}),mounted(){k().get("http://localhost:4100/api/v1/users/stats").then((e=>this.amount.users=e.data)).catch((e=>console.log(e))),k().get("http://localhost:4200/api/v1/restaurants/stats").then((e=>this.amount.restaurants=e.data)).catch((e=>console.log(e))),k().get("http://localhost:4600/api/v1/menus/stats").then((e=>this.amount.menus=e.data)).catch((e=>console.log(e))),k().get("http://localhost:4500/api/v1/products/stats").then((e=>this.amount.products=e.data)).catch((e=>console.log(e))),k().get("http://localhost:4400/api/v1/orders/stats").then((e=>this.amount.orders=e.data)).catch((e=>console.log(e))),k().get("http://localhost:4600/api/v1/deliveries/stats").then((e=>this.amount.deliveries=e.data)).catch((e=>console.log(e))),k().get("http://localhost:4400/api/v1/orders/").then((e=>this.orders=e.data)).catch((e=>console.log(e)))}},Va=ka,Sa=s(6370),Ea=s(5533),Za=s(2865),Ia=s(6996),qa=(0,E.Z)(Va,_a,xa,!1,null,"5415e717",null),Da=qa.exports;I()(qa,{VAvatar:Sa.Z,VCard:R.Z,VCardText:H.ZB,VCardTitle:H.EB,VCol:X.Z,VContainer:W.Z,VDataTable:ga.Z,VRow:ee.Z,VSubheader:Ea.Z,VTimeline:Za.Z,VTimelineItem:Ia.Z});var Ra=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt-3 mb-8",attrs:{id:"composants-view"}},[s("v-container",{staticClass:"pr-0 pl-0"},[s("h2",[e._v("Télécharger des composants")]),s("v-row",{staticClass:"mt-2"},[s("v-col",[s("v-card",{staticClass:"mx-auto mb-5",attrs:{outlined:""}},[s("v-card-subtitle",{staticClass:"text-center"},[e._v(" Afin d'éditer les composants disponibles, vous pouvez les télécharger en vous rendant directement sur le "),s("a",{attrs:{href:"https://github.com/grp-2-projet-elective/cesieats-front/tree/develop/cesi-eats-client/src/components",target:"_blank",title:"GitHub Front"}},[e._v(" dossier composants ")]),e._v(" dans le répertoire GitHub. Ou bien télécharger directement le ou les composants que vous souhaitez sur cette page contenant les principaux. "),s("br"),e._v(" Concernant les APIs utilsées par notre application, vous pouvez consulter la "),s("a",{attrs:{href:"",target:"_blank",title:"Documentation"}},[e._v(" documentation ")]),e._v(" correspondante. ")])],1)],1)],1),s("v-container",{staticClass:"pa-0"},[s("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[e._v("Nom du composant")]),s("th",{staticClass:"text-center"},[e._v("Éditer")]),s("th",{staticClass:"text-center"},[e._v("Télécharger")])])]),s("tbody",e._l(e.components,(function(t){return s("tr",{key:t.name},[s("td",[e._v(e._s(t.name))]),s("td",{staticClass:"text-center"},[s("a",{staticClass:"text-decoration-none",attrs:{target:"_blank",href:"https://github.dev/grp-2-projet-elective/cesieats-front/blob/develop/cesi-eats-client/src/components/"+t.path+t.name+".vue"}},[s("v-icon",{attrs:{color:"primary"}},[e._v("mdi-pencil")])],1)]),s("td",{staticClass:"text-center"},[s("a",{staticClass:"text-decoration-none",attrs:{target:"_blank",href:"https://minhaskamal.github.io/DownGit/#/home?url=https://github.com/grp-2-projet-elective/cesieats-front/blob/develop/cesi-eats-client/src/components/"+t.path+t.name+".vue"}},[s("v-icon",{attrs:{color:"primary"}},[e._v("mdi-download")])],1)])])})),0)]},proxy:!0}])})],1)],1)],1)},za=[],Pa={name:"ComposantsView",data:()=>({components:[{name:"LeaderboardComponent",path:"home/"},{name:"RolesComponent",path:"home/"},{name:"CustomerOperation",path:"roles/"},{name:"DeliveryManOperation",path:"roles/"},{name:"JoinUsComponent",path:"roles/"},{name:"RestaurantOwnerOperation",path:"roles/"},{name:"MenusComponent",path:"shop/"},{name:"ProductsComponent",path:"shop/"},{name:"ValidateCartComponent",path:"shop/"},{name:"ValidateDeliveryComponent",path:"shop/"},{name:"ValidateOrderComponent",path:"shop/"},{name:"ConfirmationDialogComponent",path:""},{name:"FooterComponent",path:""},{name:"LoginComponent",path:""},{name:"MenuComponent",path:""},{name:"NavbarComponent",path:""},{name:"RegisterComponent",path:""}]})},$a=Pa,Ta=(0,E.Z)($a,Ra,za,!1,null,"ee30ba42",null),La=Ta.exports;I()(Ta,{VCard:R.Z,VCardSubtitle:H.Qq,VCol:X.Z,VContainer:W.Z,VIcon:P.Z,VRow:ee.Z,VSimpleTable:Os.Z});var Fa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt-3 mb-8",attrs:{id:"composants-view"}},[s("v-container",{staticClass:"pr-0 pl-0"},[s("h2",[e._v("Accéder aux logs")]),s("v-row",{staticClass:"mt-2"},[s("v-col",[s("v-card",{staticClass:"mx-auto mb-5",attrs:{outlined:""}},[s("v-card-subtitle",{staticClass:"text-center"},[e._v(" En tant que garant de la qualité technique des prestations offertes par la plate forme, vous pouvez consulter les logs dans la table ci-dessous. "),s("br"),e._v(" Concernant les APIs utilsées par notre application, vous pouvez consulter la "),s("a",{attrs:{href:"",target:"_blank",title:"Documentation"}},[e._v(" documentation ")]),e._v(" correspondante. ")])],1)],1)],1),s("v-container",{staticClass:"pa-0"},[s("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[e._v("Nom du service")]),s("th",{staticClass:"text-center"},[e._v("Accéder aux logs")])])]),s("tbody",e._l(e.logs,(function(t){return s("tr",{key:t.name},[s("td",[e._v(e._s(t.name))]),s("td",{staticClass:"text-center"},[s("a",{staticClass:"text-decoration-none",attrs:{target:"_blank",href:t.link}},[s("v-icon",{attrs:{color:"primary"}},[e._v("mdi-download")])],1)])])})),0)]},proxy:!0}])})],1)],1)],1)},Aa=[],Oa={name:"LogsView",data:()=>({logs:[{name:"Authentication",link:""},{name:"Users",link:""},{name:"Restaurants",link:""},{name:"Menus",link:""},{name:"Products",link:""},{name:"Orders",link:""},{name:"Deliveries",link:""}]})},Ma=Oa,Na=(0,E.Z)(Ma,Fa,Aa,!1,null,"f13f4944",null),Ua=Na.exports;I()(Na,{VCard:R.Z,VCardSubtitle:H.Qq,VCol:X.Z,VContainer:W.Z,VIcon:P.Z,VRow:ee.Z,VSimpleTable:Os.Z});var ja=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"customer-view"}},[s("CustomerOperation"),s("RestaurantOwnerOperation"),s("DeliveryManOperation"),s("JoinUsComponent")],1)},Ba=[],Ga={name:"HelpView",components:{CustomerOperation:vt,RestaurantOwnerOperation:qt,DeliveryManOperation:Nt,JoinUsComponent:bt}},Qa=Ga,Ja=(0,E.Z)(Qa,ja,Ba,!1,null,"4d5c3e50",null),Ha=Ja.exports,Xa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3 mb-8",attrs:{id:"legal-notice-view"}},[a("v-container",{staticClass:"pr-0 pl-0"},[a("h2",[e._v("Mentions légales")]),a("v-row",[a("v-col",{attrs:{sm:"12",md:"8"}},[a("h3",[e._v("Identification de l'éditeur")]),a("ul",[a("li",[e._v("CESI EATS")]),a("li",[e._v("39 BOULEVARD UNIVERSITE")]),a("li",[e._v("44600 SAINT-NAZAIRE")]),a("li",[e._v("Téléphone: OUI")]),a("li",[e._v("Siret: 89990168000012")]),a("li",[e._v("TVA: FR82899901680")])]),a("br"),a("h3",[e._v("Conception graphique, référencement site internet, hébergement, gestionnaire des statistiques")]),a("p",[e._v("La conception et les développements graphiques et ergonomiques ainsi que le développement des modèles de pages ont été réalisés par la société CESI ")]),a("h3",[e._v("Traitement des données à caractère personnel")]),a("p",[e._v("Conformément aux dispositions de la loi n° 78-17 du 6 janvier 1978 relative à l'informatique, aux fichiers et aux libertés, vous disposez d'un droit d'accès, de modification, de rectification et de suppression des données qui vous concernent. Pour demander une modification, rectification ou suppression des données vous concernant, il vous suffit d'envoyer un courrier par voie électronique ou postale à la Direction de l'information légale et administrative en justifiant de votre identité.")]),a("h3",[e._v("Liens hypertextes (responsabilité)")]),a("p",[e._v("Ce site internet peut proposer de nombreux liens vers d'autres sites. Nous indiquons systématiquement vers quel site nous vous proposons d'aller. Cependant, ces pages web dont les adresses sont régulièrement vérifiées ne font pas partie de ce site : elles n'engagent pas la responsabilité de la rédaction du site.")]),a("h3",[e._v("Propriété intellectuelle")]),a("p",[e._v(" Droit de reproduction "),a("br"),e._v(" La reproduction ou réutilisation des contenus de ce site est autorisée sous réserve de mentionner la date et la source et plus globalement de respecter la licence ouverte. La copie des autres pages du site, des logos et des cartes doit avoir obtenu l'autorisation du directeur de la publication. ")])]),a("v-col",{attrs:{sm:"12",md:"4"}},[a("v-img",{attrs:{id:"sticky",src:s(8423),alt:"Mentions légales"}})],1)],1)],1)],1)},Wa=[],Ka={name:"LegalNoticeView"},Ya=Ka,er=(0,E.Z)(Ya,Xa,Wa,!1,null,"4772b126",null),tr=er.exports;I()(er,{VCol:X.Z,VContainer:W.Z,VImg:le.Z,VRow:ee.Z});var sr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3 mb-8",attrs:{id:"tou-view"}},[a("v-container",{staticClass:"pr-0 pl-0"},[a("h2",[e._v("Conditions Générales d'Utilisation")]),a("v-row",[a("v-col",{attrs:{sm:"12",md:"8"}},[a("p",[e._v(" L’utilisation du site www.cesi-eat.fr ou de l’application associée implique l’acceptation pleine et entière des conditions générales d’utilisation ci-après décrites. Ces conditions d’utilisation sont susceptibles d’être modifiées ou complétées à tout moment, les utilisateurs du site sont donc invités à les consulter de manière régulière. "),a("br"),e._v(" Ce site est normalement accessible à tout moment aux utilisateurs, excepté en cas d’interruption, volontaire ou non, peu importe la cause, par exemple en cas de maintenance. "),a("br"),e._v(" CESI Eats ne pourra être tenu responsable de tout préjudice (physique, matériel ou moral) causé par l’indisponibilité de son site ou de ses produits et services. ")]),a("h3",[e._v("1. Accès au site ou à l’application")]),a("p",[e._v("L'accès à au site est autorisé de manière temporaire et CESI Eats se réserve le droit de supprimer ou de modifier sans préavis l'accès au site. CESI Eats n’est pas responsable si, pour quelque motif que ce soit, le site n'est pas disponible à un moment donné ou pendant une période donnée. Le cas échéant, CESI Eats pourra limiter l'accès à certaines parties du site ou l’accès à l'ensemble du site aux utilisateurs inscrits.")]),a("h3",[e._v("2. Utilisation")]),a("p",[e._v("Les utilisateurs du site s’engagent à ne l’utiliser qu'à des fins légales. Toute utilisation qui contreviendra à une loi ou réglementation locale, nationale ou internationale applicable exposera son auteur à des poursuites. Le site ne pourra être utiliser pour envoyer, recevoir sciemment, télécharger, utiliser ou réutiliser des éléments qui ne sont pas conformes aux règles de publication (voir ci-dessous). Les utilisateurs s’engagent également à ne pas accéder sans autorisation à ne pas endommager ou perturber une partie du site ou un réseau ou un matériel utilisé dans la fourniture de notre prestation.")]),a("h3",[e._v("3. Règles de publication")]),a("p",[e._v("Ces règles s’appliquent à tous les éléments par lesquels les utilisateurs peuvent interagir sur le site. Les contributions des utilisateurs sur le site doivent être précises, sincères et respecter la législation applicable en France. Notamment, elles ne doivent pas :")]),a("ul",[a("li",[e._v("contenir des éléments diffamatoires, obscènes, injurieux, haineux ou à caractère pornographique ;")]),a("li",[e._v("promouvoir la violence ou promouvoir la discrimination ;")]),a("li",[e._v("enfreindre des droits d’auteur, droits sur des bases de données ou marques de commerce d'un tiers ;")]),a("li",[e._v("être susceptibles de tromper un tiers ou être en infraction avec une obligation légale vis-à-vis d'un tiers, comme une obligation contractuelle ou une obligation de discrétion ou promouvoir une activité illégale ;")])]),a("br"),a("h3",[e._v("4. Suspension et résiliation")]),a("p",[e._v("Le non-respect des présentes conditions générales d’utilisation du site peut amener CESI Eats à suspendre ou résilier un compte utilisateur ou prendre d’autres mesures jugées légitimement adaptées.")]),a("h3",[e._v("5. Propriété intellectuelle")]),a("p",[e._v("CESI Eats est le propriétaire ou le détenteur des droits de licence des droits de propriétés intellectuelle du site. Tous ces droits sont réservés. Toute exploitation non autorisée du site ou de l’un quelconque des éléments qu’il contient sera considérée comme constitutive d’une contrefaçon et poursuivie conformément aux dispositions des articles L.335-2 et suivants du Code de Propriété Intellectuelle.")]),a("h3",[e._v("6. Contenu et actualisation du site")]),a("p",[e._v(" Le site a pour objet de fournir une information concernant l’ensemble des activités de la société. CESI Eats s’efforce de fournir sur le site des informations aussi précises que possible. Toutefois, il ne pourra être tenue responsable des omissions, des inexactitudes et des carences dans la mise à jour, qu’elles soient de son fait ou du fait des tiers partenaires qui lui fournissent ces informations. "),a("br"),e._v(" Tous les informations indiquées sur le site sont données à titre indicatif, et sont susceptibles d’évoluer. Par ailleurs, les renseignements figurant sur le site ne sont pas exhaustifs. Ils sont donnés sous réserve de modifications ayant été apportées depuis leur mise en ligne. "),a("br"),e._v(" Le contenu du site peut être mis à jour ou modifier régulièrement. En cas de nécessité, cela peut entrainer la suspension de l’accès au site pour une durée indéterminée. ")]),a("h3",[e._v("7. Liens hypertextes")]),a("p",[e._v("Le site contient des liens vers d'autres sites internet (Facebook, …). CESI Eats ne contrôle pas le contenu de ces sites internet et décline toute responsabilité liée à leur contenu ou en matière de perte ou dommage susceptible de découler de l’utilisation de ces sites internet ou des traitements faits par ces sites des données à caractère personnel. Le cas échéant, l’utilisateur est invité à prendre connaissance des politiques de protection des données personnelles de ces sites.")]),a("h3",[e._v("8. Responsabilité")]),a("p",[e._v(" Le site a été développé par des professionnels. CESI Eats n’est pas responsable des éventuelles erreurs ou omissions en rapport avec ledit contenu et des éventuels problèmes techniques rencontrés par l’utilisateur. CESI Eats s’efforcera de corriger toute inexactitude ou erreur portée à sa connaissance sous les meilleurs délais. "),a("br"),e._v(" Dans les limites autorisées par la loi, CESI Eats exclu toute responsabilité (contractuelle, au titre de la négligence ou autre) dans une perte ou un dommage que l’utilisateur ou un tiers pourrait subir en liaison avec le site, les éléments affichés ou les produits et services proposés sur le site. Cela ne concerne pas la responsabilité d’CESI Eats en matière de décès ou de blessures corporelles dû(dues) à sa négligence ni sa responsabilité en matière de déclaration frauduleuse ou de déclaration inexacte sur un sujet fondamental ni une autre responsabilité qui ne peut pas être exclue ou limitée selon la législation applicable. ")]),a("h3",[e._v("9. Droit applicable et juridiction")]),a("p",[e._v("Les présentes Conditions Générales sont soumises au droit français. Les tribunaux de Saint-Nazaire ont compétence pour tout litige relatif à l’exécution ou l’interprétation des présentes Conditions Générales, nonobstant la pluralité de défendeurs ou appel en garantie, même pour les procédures d’urgence ou conservatoires, en référé ou par requête. Préalablement à toute action en justice, CESI Eats et le client conviennent de rechercher, dans des délais raisonnables, une solution amiable au différend qui les opposent dans un délai de deux mois.")])]),a("v-col",{attrs:{sm:"12",md:"4"}},[a("v-img",{attrs:{id:"sticky",src:s(8423),alt:"Conditions Générales d'Utilisation"}})],1)],1)],1)],1)},ar=[],rr={name:"TOUView"},ir=rr,nr=(0,E.Z)(ir,sr,ar,!1,null,"e746dee0",null),or=nr.exports;I()(nr,{VCol:X.Z,VContainer:W.Z,VImg:le.Z,VRow:ee.Z});var lr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3 mb-8",attrs:{id:"gtc-view"}},[a("v-container",{staticClass:"pr-0 pl-0"},[a("h2",[e._v("Conditions Générales de Vente")]),a("v-row",[a("v-col",{attrs:{sm:"12",md:"8"}},[a("h3",[e._v("1. Coordonnées de la société")]),a("p",[e._v("Le site www.cesi-eat.fr est la propriété de la société CESI’Eat !; SARL au capital social de 5000 €, immatriculée au RCS de Saint-Nazaire sous le numéro 899 901 680, dont le siège social est au 39 Boulevard université – 44600 Saint nazaire. Le N° de TVA intracommunautaire est le FR82899901680. Pour contacter la société CESI’Eat ou le site www.cesi-eat.fr vous pouvez adresser un courriel à l’adresse suivante : contact@cesi-eat.fr.")]),a("h3",[e._v("2. Capacité juridique")]),a("p",[e._v("Les clients déclarent être majeurs et pleinement capables de contracter.")]),a("h3",[e._v("3. Services et Produits CESI Eats")]),a("p",[e._v("CESI Eats se positionne comme un intermédiaire de vente de produits alimentaires et en assure la livraison.")]),a("h3",[e._v("4. Disponibilité")]),a("p",[e._v(" Les produits et services proposés par CESI Eats sur son site internet sont valables dans la limite des stocks disponibles. "),a("br"),e._v(" CESI Eats est susceptible de modifier à tout moment l’assortiment de produits et services proposés à la vente sur son site internet sans en informer au préalable le client et sans préjudice des commandes passées par le client. "),a("br"),e._v(" En cas d’indisponibilité d’un ou plusieurs produits ou services après passation de la commande, le client sera averti par e-mail ou par téléphone. D’autres produits disponibles pourront être proposés au client. Le montant de sa commande sera recalculé et le client sera débité du nouveau montant. Si la commande est entièrement indisponible le client sera averti par e-mail ou par téléphone et ne sera pas débité (ou remboursé). "),a("br"),e._v(" La responsabilité d’CESI Eats ne saurait être engagée en cas d’indisponibilité des produits avant ou après la commande, et CESI Eats ne pourra être tenu responsable d’un quelconque préjudice subi par le client, ni tenue à aucun dédommagement. ")]),a("h3",[e._v("5. Commande")]),a("p",[e._v(" CESI Eats intervient en tant qu’intermédiaire de vente et de service logistique. Les commandes sont passées exclusivement sur le site ou l’application mobile de CESI Eats Elles sont, par la suite, transmises aux partenaires de CESI Eats. "),a("br"),e._v(" Un e-mail de confirmation de commande est automatiquement envoyé à la réception de cette dernière. En cas d’erreur de saisie de l’adresse e-mail ou de non-réception du message électronique de confirmation de commande, la responsabilité de CESI Eats ne saurait être engagée. "),a("br"),e._v(" Au vue de la complexité du système logistique et pour assurer la meilleure qualité de service possible, les commandes doivent être passées avant une date et heure limite (fonction du lieu et la date d’enlèvement retenue). Le client ne pourra plus passer commande pour la date d’enlèvement retenue au-delà de cette limite. De même, aucune modification ou annulation ne pourra intervenir au-delà de cette limite. ")]),a("h3",[e._v("6. Prix")]),a("p",[e._v(" a. Prix de vente "),a("br"),e._v(" Les prix de vente des services et produits figurant sur le site sont indiqués en Euros toutes taxes comprises (au taux de TVA applicable au jour du paiement), étant entendu que les produits commandés seront facturés aux prix en vigueur lors de l’enregistrement de la commande. Le client déclare avoir pris connaissance des prix indiqués sur le site et mentionnés dans son panier lors de la commande et en accepte les montants. Les prix de vente des produits peuvent varier et CESI Eats se réserve l’entière liberté de l’offre proposée sur le site, y compris la modification du prix des produits proposés avant toute commande. "),a("br"),e._v(" b. Offres promotionnelles "),a("br"),e._v(" CESI Eats se réserve le droit, à tout moment et sans préavis, de désactiver ou de modifier une offre promotionnelle. "),a("br"),e._v(" Les offres promotionnelles permettant au client de bénéficier de réduction et de cadeaux sont à usage unique et personnel. Ces offres sont limitées dans le temps. Elles ne peuvent faire l'objet de transfert, partage, copie, reproduction ou publication. Tout usage, direct ou indirect, sous quelque forme et par quelque moyen que ce soit, par une personne autre que le client est prohibé. Il est également interdit au client de diffuser ces offres promotionnelles sur des sites ou forums internet. Les commandes associées à l'usage frauduleux d’une offre promotionnelle pourront être annulées sans préavis et le cas échéant sans contrepartie. ")]),a("h3",[e._v("7. Paiement")]),a("p",[e._v(" Toutes les Commandes sont payables en euros et selon les moyens de paiement proposés par CESI Eats et indiqués sur le site. Le montant doit être payé immédiatement au moment de la commande par carte bancaire. "),a("br"),e._v(" Le client garantit à CESI Eats qu’il est pleinement autorisé à utiliser la carte bancaire utilisé au moment du paiement de sa commande et que ce moyen de paiement donne légalement accès à des fonds suffisants pour couvrir tous les coûts résultant de sa commande sur le Site. CESI Eats ne pourra être tenu pour responsable de tout usage frauduleux du moyen de paiement utilisé. "),a("br"),e._v(" Tout paiement sera traité par une procédure sécurisée de chiffrement des données afin qu’aucune information transmise par le client ne soit interceptée par des tiers. Il appartient au client d’enregistrer et d’imprimer son certificat de paiement s’il souhaite conserver les détails bancaires relatifs à sa transaction. ")]),a("h3",[e._v("8. Annulation")]),a("p",[e._v(" CESI Eats se réserve le droit d’annuler une commande, notamment pour indisponibilité des produits ou pour des motifs internes (rupture de stocks, perturbation du service logistique…). Dans ce cas, le client sera remboursé des frais engagés sur cette commande mais ne pourra prétendre à aucune indemnisation. "),a("br"),e._v(" Aucune modification ou annulation de commande de la part du client ne pourra intervenir au-delà de la date et heure limite de commande (déterminée en fonction du lieu d’enlèvement). "),a("br"),e._v(" En vertu des dispositions de l’article L121-21-8 alinéa 4 du Code de la consommation, le client ne dispose pas de droit de rétractation, les produits, objets du contrat étant des denrées périssables. Les produits vendus par CESI Eats ne sont donc ni repris, ni échangés, sauf en cas d’erreur imputable à CESI Eats et notamment en cas de livraison de produits ne correspondant pas à la commande du client. "),a("br"),e._v(" Par ailleurs, CESI Eats se réserve le droit de suspendre ou d’annuler toute exécution d’une commande et/ou livraison, quelle que soit sa nature et niveau d’exécution, en cas de défaut de paiement ou paiement partiel de toute somme qui serait due par le client, en cas d’incident de paiement, ou en cas de fraude ou tentative de fraude relative à l’utilisation du site, y compris à l’occasion de commandes antérieures. ")]),a("h3",[e._v("9. Livraison")]),a("p",[e._v(" a. Zones de chalandise "),a("br"),e._v(" La livraison des produits et services du site est proposée uniquement dans les zones de chalandise et aux plages horaires indiquées sur le site. Pour des raisons logistiques, les commandes en dehors de ces zones ou en dehors de ces horaires ne pourront être prises en compte. "),a("br"),e._v(" b. Modalité de livraison "),a("br"),e._v(" Les produits seront livrés au point de retrait et le jour de livraison validé par le client moment de la commande. "),a("br"),e._v(" Une erreur du client dans le choix du point de retrait ou du jour de livraison ne saurait donner droit à un remboursement, indemnisation ou nouvelle livraison. De même, la non-livraison d’une commande pour donner suite à une erreur, un retard ou l’absence du client au point de retrait prévu ne saurait être imputable à CESI Eats. La commande sera alors considérée comme livrée et le client ne pourra pas prétendre à un remboursement, une indemnisation ou une nouvelle livraison pour ladite commande. "),a("br"),e._v(" Les créneaux de livraison indiqués sur le site sont des créneaux indicatifs. CESI Eats s’efforce de faire le maximum pour réaliser la livraison dans ces créneaux. Cependant, des évènements imprévisibles (météo, conditions de circulation…) peuvent amener à des livraisons en avance ou en retard. ")]),a("h3",[e._v("10. Sécurité")]),a("p",[e._v(" a. Allergènes "),a("br"),e._v(" Le client s’engage, avant chaque passation de commande, à prendre connaissance de la description détaillée des produits commandés ; et notamment des allergènes éventuellement présents. CESI Eats pourra être amené à mettre à jour, à tout moment, la description détaillée des produits proposés. Les informations mentionnées sur les pages produits sont celles communiquées par les partenaires CESI Eats. "),a("br"),e._v(" Il appartient au client de se renseigner sur ses allergies ou intolérances à certains produits et à rechercher les traces de ces produits dans la description détaillée, et cela même pour les produits non facturés (cadeaux, échanges, etc.). CESI Eats ne pourra être tenu responsable des conséquences de la non-prise en compte de ces informations par le client lors de son achat. "),a("br"),e._v(" b. Hygiène et conservation "),a("br"),e._v(" CESI Eats livre l’intégralité de ses produits froids et s’engage à en assurer la bonne conservation lors du transport de la marchandise. Le client s’engage après livraison à assurer la bonne conservation de ses produits (au frais entre 0 et 3°C) et à les consommer avant la date indiquée sur l’emballage. En cas de non-étiquetage de la date limite de consommation, le client s’engage à recueillir l’information auprès d’CESI Eats et par défaut ne pas consommer les produits plus de 3 jours après leur livraison. CESI Eats ne pourra être tenu responsable de la détérioration des produits due à la négligence du client et/ou la mauvaise conservation des produits après leur livraison. La détérioration des produits due au non-respect des indications de réchauffage mentionnées sur l’emballage ou à défaut sur le site ne pourra engager la responsabilité d’CESI Eats. "),a("br"),e._v(" c. Vente d’alcool "),a("br"),e._v(" Les boissons alcoolisées ne peuvent être vendues qu'aux personnes de plus de 18 ans et une preuve peut être exigée lors de la livraison (article L3342-1 du Code de la santé publique). CESI Eats pourra refuser de fournir de l'alcool à toute personne qui semble avoir moins de 18 ans ou qui est ou semble sous l'influence de l'alcool ou de médicaments. En passant une commande qui contient de l'alcool, vous confirmez que vous avez au moins 18 ans. Toute violation du présent article engage votre responsabilité personnelle exclusive. "),a("br"),e._v(" Si vous êtes identifié comme mineur au moment de la livraison, CESI Eats reprendra les boissons alcoolisées de la commande et la somme correspondante vous sera remboursée, déduite néanmoins d'un forfait de 12€ compensant les frais supportés par CESI Eats et dus au non-respect des présentes conditions. "),a("br"),e._v(" L’abus d’alcool est dangereux pour la santé. Il est à consommer avec modération. "),a("br"),e._v(" Par le seul fait de passer commande sur le site vous renoncez expressément au bénéfice de l’article 1587 du Code civil qui prévoit que la conclusion de la vente de vin ne devient définitive qu’après dégustation et agrément de l’acheteur. "),a("br"),e._v(" Dans le cas où une boisson livrée serait impropre à la consommation (par exemple bouteille bouchonnée), le client est invité à contacter CESI Eats dans les meilleurs délais et au plus tard 24 heures à compter de la livraison afin de procéder au remboursement ou l’échange du produit commandé. CESI Eats se réserve le droit de récupérer la boisson et de vérifier avec le vendeur que la boisson est bien impropre à la consommation. CESI Eats se réserve le droit de refuser tout échange ou remboursement en cas de boisson consommée de plus d’un quart de son contenu et/ou qui ne serait pas retournée dans son contenant d’origine avec bouchon d’origine. En cas de confirmation par le vendeur que la boisson est bien impropre à la consommation, CESI Eats procédera à son échange ou remboursement, sans frais pour le client. ")]),a("h3",[e._v("11. Compte client")]),a("p",[e._v(" Lors de sa commande, le client s’engage à fournir les informations exactes sur ses données personnelles (adresse, mail, téléphone). Ces informations sont en effet nécessaires à la bonne exécution de sa commande. "),a("br"),e._v(" Le non-respect par le client des obligations souscrites aux termes des présentes Conditions Générales, tout incident de paiement du prix d’une commande, des agissements contraires aux intérêts d’CESI Eats, la délivrance de fausses informations lors de la création du compte, pourront entraîner la suppression de son compte en fonction du degré de gravité des agissements en cause, sans qu’il puisse être réclamé des dommages et intérêts ou indemnisations quels qu’ils soient à la société CESI Eats. CESI Eats se réserve le droit de refuser toute commande d’un client avec lequel il existerait un litige, même si celui-ci utilise un nouveau compte. "),a("br"),e._v(" L’utilisation de l’identifiant (adresse de messagerie électronique du client) et/ou du mot de passe du client vaudront preuve de son identité, et exigibilité, à la validation de la commande, des sommes correspondantes. Le client doit maintenir la sécurité de ses identifiants et de ses transactions en ligne en ne communiquant à personne son identifiant et/ou son mot de passe, ni ses identifiants de paiement, et en changeant régulièrement son mot de passe. A ce titre, CESI Eats ne peut pas être responsable de la divulgation des informations concernant le client à tout individu ayant utilisé son identifiant et/ou son mot de passe. ")]),a("h3",[e._v("12. Force Majeure")]),a("p",[e._v("Dans les cas où CESI Eats, n’est pas en mesure d’assurer la livraison de ses produits et services pour donner suite à un évènement de force majeur ou cas fortuit, le client se verra rembourser du montant de sa commande. Dans ces cas, aucun dommage et intérêt ne pourront être réclamés par le client. ")]),a("h3",[e._v("13. Responsabilité")]),a("p",[e._v(' Dans les limites autorisées par la loi, CESI Eats fournit son service et son contenu "en l\'état" et "en fonction de la disponibilité". Selon les dispositions ci-dessous, ni CESI Eats ni quelque de ses partenaires que ce soit n\'ont de responsabilité vis-à-vis du client en ce qui concerne des pertes directes, indirectes, particulières ou des dommages d\'ordre contractuel, dus à un préjudice (dont la négligence) ou par ailleurs découlant de l’utilisation ou de l’incapacité du client à utiliser le service. '),a("br"),e._v(" Si la responsabilité d’CESI Eats ou de son partenaire est engagée vis-à-vis du client, la responsabilité totale cumulée est limitée au prix d'achat des produits et services payés par le client au titre de sa commande. "),a("br"),e._v(" Le contrat de vente est conclu entre le client et le partenaire d’CESI Eats. Le partenaire d’CESI Eats choisit par le client est un commerçant indépendant, distinct de la société CESI Eats et sur lequel CESI Eats n’exerce aucun contrôle. En conséquence, en dehors des strictes conditions légales, la responsabilité d’CESI Eats ne saurait être engagée à ce titre. Le partenaire, vendeur, est tenu des défauts de conformité du bien au contrat dans les conditions de l’article L 211-4 du Code de la consommation et des défauts de la chose vendue en cas de vices cachés (article 1641 Code civil) et de la garantie légale de conformité (article L211-4 et suivant Code de la consommation). ")]),a("h3",[e._v("14. Réclamation")]),a("p",[e._v("Toute réclamation devra intervenir dans les 48h à compter de l’évènement objet de la réclamation. Passé ce délai, la réclamation ne pourra être prise en compte.")]),a("h3",[e._v("15. Modification des conditions générales")]),a("p",[e._v("CESI Eats se réserve la possibilité de modifier et de mettre à jour les Conditions Générales à tout moment et sans préavis. Pour être informés de ces éventuelles modifications, CESI Eats conseille au client, et de manière générale à tout utilisateur, de relire les Conditions Générales régulièrement, la dernière version étant celle en ligne. La commande sera soumise aux Conditions Générales en vigueur au moment de la commande.")]),a("h3",[e._v("16. Propriété intellectuelle")]),a("p",[e._v(" a. Propriété intellectuelle "),a("br"),e._v(" Le site www.cesi-eat.fr est la propriété intellectuelle de la société CESI Eats. L'ensemble des éléments disponibles sur le site dont notamment les photographies, textes, slogans, dessins, images, séquences animées sonores ou non ainsi que toutes créations intellectuelles intégrées dans le site www.cesi-eat.fr sont la propriété de société CESI Eats ou de tiers l'ayant autorisé à les utiliser. Toute reproduction, représentation, utilisation, adaptation ou modification, par quelque procédé que ce soit et sur quelque support que ce soit, de tout ou partie du www.cesi-eat.fr sans avoir obtenu l'autorisation préalable de la société CESI Eats est strictement interdite et constitue un délit de contrefaçon. L'appellation « CESI Eats» est une marque déposée. "),a("br"),e._v(" b. Photographies "),a("br"),e._v(" CESI Eats s’engage à ce que la représentation photographique des produits ou services sur le site ou l’application soit la plus fidèle possible aux produits ou services eux-mêmes. Toutefois, les photographies, graphismes et les descriptions des produits proposés sur le site sont à titre indicatif et ne rentrent pas dans le champ contractuel. Par ailleurs, les ingrédients présents sur la mise en scène des photographies ne font pas partie intégrante du produit et n’ont qu’une valeur décorative. ")]),a("h3",[e._v("17. Non renonciation")]),a("p",[e._v("Le fait pour l’une des parties de ne pas se prévaloir auprès de l’autre partie d’un manquement à l'une des dispositions des présentes Conditions Générales, que ce soit de manière permanente ou temporaire, ne saurait être interprété pour l’avenir comme une renonciation par cette partie à l’obligation en cause ou à toute autre disposition des présentes Conditions Générales.")]),a("h3",[e._v("18. Autonomie des dispositions")]),a("p",[e._v("Si l'une quelconque des dispositions des présentes Conditions Générales devient caduque ou nulle, elle sera réputée non écrite mais n'entraînera pas la nullité ou la caducité des autres dispositions des présentes Conditions Générales.")]),a("h3",[e._v("19. Droit applicable et juridiction compétente")]),a("p",[e._v("Les présentes Conditions Générales sont soumises au droit français. Les tribunaux de Saint Nazaire ont compétence pour tout litige relatif à l’exécution ou l’interprétation des présentes Conditions Générales, nonobstant la pluralité de défendeurs ou appel en garantie, même pour les procédures d’urgence ou conservatoires, en référé ou par requête. Préalablement à toute action en justice, CESI Eats et le client conviennent de rechercher, dans des délais raisonnables, une solution amiable au différend qui les opposent dans un délai de deux mois.")])]),a("v-col",{attrs:{sm:"12",md:"4"}},[a("v-img",{attrs:{id:"sticky",src:s(8423),alt:"Conditions Générales de Vente"}})],1)],1)],1)],1)},cr=[],ur={name:"GTCView"},dr=ur,vr=(0,E.Z)(dr,lr,cr,!1,null,"3c0ee6e4",null),mr=vr.exports;I()(vr,{VCol:X.Z,VContainer:W.Z,VImg:le.Z,VRow:ee.Z});var pr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3 mb-8",attrs:{id:"privacy-policy-view"}},[a("v-container",{staticClass:"pr-0 pl-0"},[a("h2",[e._v("Politique de confidentialité")]),a("v-row",[a("v-col",{attrs:{sm:"12",md:"8"}},[a("h3",[e._v("Chez CESI Eats nous ne sommes pas friand de vos données personnelles.")]),a("p",[e._v(" Pour que vous puissiez juger par vous-mêmes ce document reprend toutes les informations concernant le traitement de vos données. Ainsi, vous saurez quelles données personnelles sont collectées et à quelles fins. "),a("br"),e._v(" Dans tous les cas, CESI Eats s’engage, conformément à la réglementation en vigueur, à protéger votre vie privée en assurant la protection, la confidentialité, la disponibilité et la sécurité de vos données. ")]),a("h3",[e._v("1. Collecte de l'information")]),a("p",[e._v(" Nous recueillons des informations lorsque vous vous inscrivez sur notre site, lorsque vous vous connectez à votre compte, faites un achat, participez à un concours, et / ou lorsque vous vous déconnectez. Les informations recueillies incluent votre nom, votre adresse, votre adresse e-mail, numéro de téléphone, et / ou carte de crédit. "),a("br"),e._v(" En outre, nous recevons et enregistrons automatiquement des informations à partir de votre ordinateur et navigateur, y compris votre adresse IP, vos logiciels et votre matériel, et la page que vous demandez. ")]),a("h3",[e._v("2. Utilisation des informations")]),a("p",[e._v("Toutes les informations que nous recueillons auprès de vous peuvent être utilisées pour :")]),a("ul",[a("li",[e._v("Personnaliser votre expérience et répondre à vos besoins individuels")]),a("li",[e._v("Fournir un contenu publicitaire personnalisé")]),a("li",[e._v("Améliorer notre site Web")]),a("li",[e._v("Améliorer notre site Web")]),a("li",[e._v("Vous contacter par e-mail")]),a("li",[e._v("Administrer un concours, une promotion, ou une enquête")])]),a("br"),a("h3",[e._v("3. Confidentialité du commerce en ligne")]),a("p",[e._v("Nous sommes les seuls propriétaires des informations recueillies sur ce site. Vos informations personnelles ne seront pas vendues, échangées, transférées, ou données à une autre société pour n’importe quel raison, sans votre consentement, en dehors de ce qui est nécessaire pour répondre à une demande et / ou une transaction, comme pour livrer une commande.")]),a("h3",[e._v("4. Divulgation à des tiers")]),a("p",[e._v(" Nous ne vendons, n’échangeons et ne transférons pas vos informations personnelles identifiables à des tiers. Cela ne comprend pas les tierce parties de confiance qui nous aident à exploiter notre site Web ou à mener nos affaires, tant que ces parties conviennent de garder ces informations confidentielles. "),a("br"),e._v(" Nous pensons qu’il est nécessaire de partager des informations afin d’enquêter, de prévenir ou de prendre des mesures concernant des activités illégales, fraudes présumées, situations impliquant des menaces potentielles à la sécurité physique de toute personne, violations de nos conditions d’utilisation, ou quand la loi nous y contraint. "),a("br"),e._v(" Les informations non-privées, cependant, peuvent être fournies à d’autres parties pour le marketing, la publicité, ou d’autres utilisations. ")]),a("h3",[e._v("5. Protection des informations")]),a("p",[e._v(" Nous mettons en œuvre une variété de mesures de sécurité pour préserver la sécurité de vos informations personnelles. Nous utilisons un cryptage à la pointe de la technologie pour protéger les informations sensibles transmises en ligne. Nous protégeons également vos informations hors ligne. Seuls les employés qui ont besoin d’effectuer un travail spécifique (par exemple, la facturation ou le service à la clientèle) ont accès aux informations personnelles identifiables. "),a("br"),e._v(" Les ordinateurs et serveurs utilisés pour stocker des informations personnelles identifiables sont conservés dans un environnement sécurisé en Europe. "),a("br"),e._v(" Est-ce que nous utilisons des cookies ? "),a("br"),e._v(" Oui. Nos cookies améliorent l’accès à notre site et identifient les visiteurs réguliers. En outre, nos cookies améliorent l’expérience d’utilisateur grâce au suivi et au ciblage de ses intérêts. Cependant, cette utilisation des cookies n’est en aucune façon liée à des informations personnelles identifiables sur notre site. Voir la page sur l'utilisation des cookies. ")]),a("h3",[e._v("6. Se désabonner")]),a("p",[e._v("Nous utilisons l’adresse e-mail que vous fournissez pour vous envoyer des informations et mises à jour relatives à votre commande, des nouvelles de l’entreprise de façon occasionnelle, des informations sur des produits liés, etc. Si à n’importe quel moment vous souhaitez-vous désinscrire et ne plus recevoir d’e-mails, vous pouvez faire votre demande de désabonnement à contact@cesi-eat.fr.")]),a("h3",[e._v("7. Consentement")]),a("p",[e._v("En utilisant notre site, vous consentez à notre politique de confidentialité.")])]),a("v-col",{attrs:{sm:"12",md:"4"}},[a("v-img",{attrs:{id:"sticky",src:s(8423),alt:"Politique de confidentialité"}})],1)],1)],1)],1)},hr=[],fr={name:"PrivacyPolicyView"},gr=fr,br=(0,E.Z)(gr,pr,hr,!1,null,"6238b834",null),Cr=br.exports;I()(br,{VCol:X.Z,VContainer:W.Z,VImg:le.Z,VRow:ee.Z});var _r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{staticClass:"mx-auto mt-5",attrs:{"max-width":"95%"}},[s("v-card-title",[s("span",{staticClass:"text-h3 mb-3"},[e._v(" Mon profil "),s("v-dialog",{attrs:{"max-width":"80%"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[s("v-btn",e._g(e._b({staticClass:"mx-2",attrs:{color:"primary",fab:"",small:""}},"v-btn",r,!1),a),[s("v-icon",[e._v(" mdi-pencil ")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"text-h4"},[e._v("Modifier mon profil")])]),s("v-form",{on:{submit:function(t){return t.preventDefault(),e.updateProfile.apply(null,arguments)}},model:{value:e.validProfile,callback:function(t){e.validProfile=t},expression:"validProfile"}},[s("v-container",[s("v-card-title",[s("span",{staticClass:"text-h6"},[e._v("Données personnelles")])]),s("v-row",[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{rules:e.firstNameRules,label:"Prénom*"},model:{value:e.user.firstname,callback:function(t){e.$set(e.user,"firstname",t)},expression:"user.firstname"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{rules:e.lastNameRules,label:"Nom*"},model:{value:e.user.lastname,callback:function(t){e.$set(e.user,"lastname",t)},expression:"user.lastname"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail*"},model:{value:e.user.mail,callback:function(t){e.$set(e.user,"mail",t)},expression:"user.mail"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{rules:e.phoneRules,label:"Téléphone*"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),s("v-col",{attrs:{cols:"12",md:"12"}},[s("v-text-field",{attrs:{rules:e.thumbnail,label:"URL de la photo de profil*",counter:255},model:{value:e.user.thumbnail,callback:function(t){e.$set(e.user,"thumbnail",t)},expression:"user.thumbnail"}})],1)],1),s("v-card-title",[s("span",{staticClass:"text-h6"},[e._v("Informations de livraison par défaut")])]),s("v-row",[s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"Ville*",rules:e.cityRules},model:{value:e.user.city,callback:function(t){e.$set(e.user,"city",t)},expression:"user.city"}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{label:"Adresse*",rules:e.addressRules},model:{value:e.user.address,callback:function(t){e.$set(e.user,"address",t)},expression:"user.address"}})],1),s("v-col",{attrs:{cols:"4",md:"2"}},[s("v-text-field",{attrs:{label:"Code postal*",rules:e.zipRules},model:{value:e.user.zipCode,callback:function(t){e.$set(e.user,"zipCode",t)},expression:"user.zipCode"}})],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{on:{click:function(t){e.dialog=!1}}},[e._v(" Fermer ")]),s("v-btn",{attrs:{color:"error",to:"/"},on:{click:e.deleteProfile}},[s("v-icon",[e._v("mdi-delete")]),e._v(" Supprimer ")],1),s("v-btn",{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:!e.validProfile}},[e._v(" Enregistrer ")])],1)],1)],1)],1)],1)]),s("v-container",[s("v-row",[s("v-avatar",{attrs:{size:"150"}},[null!==e.user.thumbnail?s("img",{attrs:{src:e.user.thumbnail,alt:"Avatar"}}):s("img",{attrs:{src:"https://icones.pro/wp-content/uploads/2021/02/icone-utilisateur.png"}})])],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"12"}},[s("h1",[e._v(e._s(e.user.firstname)+" "+e._s(e.user.lastname))])]),s("v-col",{attrs:{cols:"12",md:"4"}},[s("h3",[e._v("Mail : "+e._s(e.user.mail))])]),s("v-col",{attrs:{cols:"12",md:"4"}},[s("h3",[e._v("Téléphone : "+e._s(e.user.phone))])]),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[s("v-btn",e._g(e._b({staticClass:"mx-2",attrs:{color:"primary",small:"",rounded:""}},"v-btn",r,!1),a),[e._v(" Modifier mon mot de passe ")])]}}]),model:{value:e.mdpDialog,callback:function(t){e.mdpDialog=t},expression:"mdpDialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"text-h4"},[e._v("Changement de mot de passe")])]),s("v-form",{ref:"mdpForm",on:{submit:function(t){return t.preventDefault(),e.updatePwd.apply(null,arguments)}},model:{value:e.validPwd,callback:function(t){e.validPwd=t},expression:"validPwd"}},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"12"}},[s("v-text-field",{attrs:{rules:e.passwordRules,label:"Nouveau mot de passe","append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password"},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{on:{click:e.closeMdpDialog}},[e._v(" Fermer ")]),s("v-btn",{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:!e.validPwd}},[e._v(" Enregistrer ")])],1)],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"4"}},[s("h3",[e._v("Mon code de parrainage : "+e._s(e.user.referalCode))])]),e.user.sponsorId?s("v-col",{attrs:{cols:"12",md:"4"}},[s("h3",[e._v("Parrain : "+e._s(e.sponsor.firstname)+" "+e._s(e.sponsor.lastname)+" ("+e._s(e.sponsor.referalCode)+")")])]):s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-dialog",{attrs:{"max-width":"300px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[s("v-btn",e._g(e._b({staticClass:"mx-2",attrs:{color:"primary",small:"",rounded:""}},"v-btn",r,!1),a),[e._v(" Entrer un code de parrainage ")])]}}]),model:{value:e.sponsorDialog,callback:function(t){e.sponsorDialog=t},expression:"sponsorDialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"text-h4"},[e._v("Code parrain")])]),s("v-form",{ref:"sponsorForm",on:{submit:function(t){return t.preventDefault(),e.updateSponsor.apply(null,arguments)}},model:{value:e.validSponsor,callback:function(t){e.validSponsor=t},expression:"validSponsor"}},[s("v-container",[s("v-col",{attrs:{cols:"12",md:"12"}},[s("v-text-field",{attrs:{rules:e.sponsorRule,label:"Code de parrainage","error-messages":e.checkSponsorRole()},model:{value:e.sponsorReferal,callback:function(t){e.sponsorReferal=t},expression:"sponsorReferal"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{on:{click:e.closeSponsorDialog}},[e._v(" Fermer ")]),s("v-btn",{staticClass:"mr-4",attrs:{color:"primary",type:"submit",disabled:!e.validSponsor}},[e._v(" Enregistrer ")])],1)],1)],1)],1)],1)],1),s("v-card-title",[s("span",{staticClass:"text-h6 mt-4"},[e._v("Informations de livraison par défaut")])]),s("v-row",[s("v-col",{attrs:{cols:"12",md:"4"}},[s("h3",[e._v("Ville : "+e._s(e.user.city))])]),s("v-col",{attrs:{cols:"12",md:"6"}},[s("h3",[e._v("Adresse : "+e._s(e.user.address))])]),s("v-col",{attrs:{cols:"4",md:"2"}},[s("h3",[e._v("Code postal : "+e._s(e.user.zipCode))])])],1)],1)],1)},xr=[],wr={name:"ProfileComponent",data:()=>({dialog:!1,mdpDialog:!1,validProfile:!1,validPwd:!1,validSponsor:!1,sponsorDialog:!1,sponsorReferal:"",newPassword:"",newSponsorID:"",users:[],sponsor:{},firstNameRules:[e=>!!e||"Veuillez renseigner votre prénom"],lastNameRules:[e=>!!e||"Veuillez renseigner votre nom"],emailRules:[e=>!!e||"Veuillez renseigner votre E-mail",e=>/.+@.+/.test(e)||"le format est incorrect"],passwordRules:[e=>!!e||"Veuillez renseigner votre mot de passe",e=>/^(?=.{8,}$)(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).*$/.test(e)||"Le mot de passe doit contenir au moins 8 caractères dont minimum 1 minuscule, 1 majuscule et 1 chiffre"],roleRules:[e=>!!e||"Veuillez sélectionner votre rôle"],phoneRules:[e=>!!e||"Veuillez renseigner votre numéro de téléphone",e=>/^(0|\+33)[1-9]([-. ]?[0-9]{2}){4}$/.test(e)||"Format incorrect (+33xx ou 0xx)"],cityRules:[e=>!!e||"Veuillez renseigner votre ville"],addressRules:[e=>!!e||"Veuillez renseigner votre addresse"],zipRules:[e=>!!e||"Veuillez renseigner votre code postal",e=>/^[0-9]*$/.test(e)||"Format incorrect"],thumbnail:[e=>!!e||"Veuillez entrer une URL"],sponsorRule:[e=>/(([1-6]{1})+-([0-9A-Z]{3})+-([0-9A-Z]{3})$)|^$/.test(e)||"Format incorrect",e=>!!e||"Entrez un code de parrainage"],user:w.state.user,show1:!1}),methods:{updateProfile(){k().patch("http://localhost:4100/api/v1/users/"+this.user.id,this.user).catch((e=>console.log(e))),this.$store.commit("saveUser",this.user),this.dialog=!1},updateSponsor(){this.newSponsorID=this.users.find((e=>e.referalCode===this.sponsorReferal)).id,k().patch("http://localhost:4100/api/v1/users/"+this.user.id,{sponsorId:this.newSponsorID}).catch((e=>console.log(e))),this.user.sponsorId=this.newSponsorID,this.$store.commit("saveUser",this.user),this.getSponsor(),this.sponsorDialog=!1},deleteProfile(){k()["delete"]("http://localhost:4100/api/v1/users/"+this.user.id).catch((e=>console.log(e))),this.dialog=!1,k().post("http://localhost:4000/api/v1/auth/logout",{id:this.user.id}).then((()=>{window.localStorage.clear(),location.reload()})).catch((e=>console.log(e)))},updatePwd(){k().patch("http://localhost:4100/api/v1/users/updatePassword/"+this.user.id,{password:this.newPassword}).catch((e=>console.log(e))),this.mdpDialog=!1,this.$refs.mdpForm.reset()},closeMdpDialog(){this.$refs.mdpForm.reset(),this.mdpDialog=!1},closeSponsorDialog(){this.$refs.sponsorForm.reset(),this.sponsorDialog=!1},getSponsor(){this.sponsor=this.users.find((e=>e.id===this.user.sponsorId))},doReferalExist(){const e=this.users.find((e=>e.referalCode===this.sponsorReferal));return console.log(e),null!=e},checkSponsorRole(){let e="";const t=Number(this.sponsorReferal?.split("-")[0]);return this.user.roleId===t&&this.doReferalExist()||""===this.sponsorReferal?e="":this.doReferalExist()?this.user.roleId!==t&&(e="Votre rôle et celui du parrain ne correspondent pas"):e="Ce code n'existe pas",e}},mounted(){k().get("http://localhost:4100/api/v1/users/").then((e=>{this.users=e.data,this.getSponsor()})).catch((e=>console.log(e)))}},yr=wr,kr=(0,E.Z)(yr,_r,xr,!1,null,"397857a5",null),Vr=kr.exports;I()(kr,{VAvatar:Sa.Z,VBtn:D.Z,VCard:R.Z,VCardActions:H.h7,VCardTitle:H.EB,VCol:X.Z,VContainer:W.Z,VDialog:K.Z,VForm:Y.Z,VIcon:P.Z,VRow:ee.Z,VSpacer:te.Z,VTextField:se.Z}),a.Z.use(Ee.Z);const Sr=[{path:"/",name:"home",component:Be},{path:"/inscription",name:"inscription",component:rt,beforeEnter:Er},{path:"/profil",name:"profile",component:Vr,beforeEnter:Zr},{path:"/client",name:"client",component:wt},{path:"/restaurateur",name:"restaurateur",component:Pt},{path:"/livreur",name:"livreur",component:Gt},{path:"/restaurants",name:"restaurants",component:Yt,beforeEnter:Ir},{path:"/restaurants/:name/:id",name:"products",component:Is,beforeEnter:qr},{path:"/mon-restaurant",name:"mon-restaurant",component:ys,beforeEnter:Dr},{path:"/panier",name:"panier",component:Ns,beforeEnter:Rr},{path:"/commandes",name:"commandes",component:ea,beforeEnter:zr},{path:"/livraisons",name:"livraisons",component:va,beforeEnter:Pr},{path:"/comptes",name:"comptes",component:Ca,beforeEnter:Lr},{path:"/statistiques",name:"statistiques",component:Da,beforeEnter:Fr},{path:"/composants",name:"composants",component:La,beforeEnter:$r},{path:"/logs",name:"logs",component:Ua,beforeEnter:Tr},{path:"/aide",name:"aide",component:Ha},{path:"/mentions-legales",name:"mentions-legales",component:tr},{path:"/cgu",name:"cgu",component:or},{path:"/cgv",name:"cgv",component:mr},{path:"/politique-confidentialite",name:"politique-confidentialite",component:Cr}];function Er(e,t,s){if(!w.state.user.roleId)return s();s("/")}function Zr(e,t,s){if(w.state.user.roleId)return s();s("/")}function Ir(e,t,s){if(1===w.state.user?.roleId)return s();s("/")}function qr(e,t,s){if(1===w.state.user?.roleId)return s();s("/")}function Dr(e,t,s){if(2===w.state.user?.roleId)return s();s("/")}function Rr(e,t,s){if(1===w.state.user?.roleId)return s();s("/")}function zr(e,t,s){if(1===w.state.user?.roleId||2===w.state.user?.roleId)return s();s("/")}function Pr(e,t,s){if(3===w.state.user?.roleId)return s();s("/")}function $r(e,t,s){if(5===w.state.user?.roleId||6===w.state.user?.roleId)return s();s("/")}function Tr(e,t,s){if(5===w.state.user?.roleId)return s();s("/")}function Lr(e,t,s){if(4===w.state.user?.roleId||6===w.state.user?.roleId)return s();s("/")}function Fr(e,t,s){if(4===w.state.user?.roleId||6===w.state.user?.roleId)return s();s("/")}const Ar=new Ee.Z({mode:"history",base:"/",routes:Sr});var Or=Ar;a.Z.use(hs.ZP);var Mr=new hs.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{user:w,cart:p}}),Nr=s(9132);a.Z.use(Nr.Z);var Ur=new Nr.Z({theme:{themes:{light:{primary:"#4caf50",secondary:"#8bc34a",accent:"#009688",error:"#f44336",warning:"#ffc107",info:"#03a9f4",success:"#cddc39",white:"#fff",black:"#000"},dark:{primary:"#4caf50",secondary:"#8bc34a",accent:"#009688",error:"#f44336",warning:"#ffc107",info:"#03a9f4",success:"#cddc39",white:"#fff",black:"#000"}}}});a.Z.config.productionTip=!1,new a.Z({router:Or,store:Mr,vuetify:Ur,render:e=>e(Se)}).$mount("#app")},5359:function(e,t,s){e.exports=s.p+"img/c-eat.594ab882.svg"},8280:function(e,t,s){e.exports=s.p+"img/c-prepare-order.fdb2c300.svg"},7325:function(e,t,s){e.exports=s.p+"img/c-quick-delivery.fab7fe1e.svg"},235:function(e,t,s){e.exports=s.p+"img/d-identify-yourself.09e70c25.svg"},8592:function(e,t,s){e.exports=s.p+"img/d-order.cb16cdbe.svg"},7053:function(e,t,s){e.exports=s.p+"img/d-submit-question.02796a56.svg"},3792:function(e,t,s){e.exports=s.p+"img/r-customer-order.626f5bae.svg"},4873:function(e,t,s){e.exports=s.p+"img/r-delivery-man-arrive.43107a98.svg"},2799:function(e,t,s){e.exports=s.p+"img/r-you-prepare.1ba7ad1a.svg"},8607:function(e,t,s){e.exports=s.p+"img/black-logo.b781d2f0.png"},6949:function(e,t,s){e.exports=s.p+"img/logo.a11ea910.png"},4852:function(e,t,s){e.exports=s.p+"img/customer.5ceefaf5.jpg"},1239:function(e,t,s){e.exports=s.p+"img/delivery-man.46d54a1d.jpg"},5417:function(e,t,s){e.exports=s.p+"img/restaurant-owner.f4e7b0fc.jpg"},8423:function(e,t,s){e.exports=s.p+"img/mandatory.2eadfcf1.jpg"}},t={};function s(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,a,r,i){if(!a){var n=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],i=e[u][2];for(var o=!0,l=0;l<a.length;l++)(!1&i||n>=i)&&Object.keys(s.O).every((function(e){return s.O[e](a[l])}))?a.splice(l--,1):(o=!1,i<n&&(n=i));if(o){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,r,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,i,n=a[0],o=a[1],l=a[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(r in o)s.o(o,r)&&(s.m[r]=o[r]);if(l)var u=l(s)}for(t&&t(a);c<n.length;c++)i=n[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(u)},a=self["webpackChunkcesi_eats_client"]=self["webpackChunkcesi_eats_client"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(4321)}));a=s.O(a)})();
//# sourceMappingURL=app.9e38c509.js.map