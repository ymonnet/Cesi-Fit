{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/user/Documents/CESI/A4/Elctive web/PROJECT/proj/cesieats-front/cesi-eats-client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport $storeCart from '@/store/cart';\nimport $storeUser from '@/store/user';\nimport axios from 'axios';\nexport default {\n  props: {\n    viewsAvailable: Array\n  },\n  data: function data() {\n    return {\n      drawer: true,\n      miniVariant: true,\n      expandOnHover: true,\n      permanent: true,\n      cart: $storeCart.state.cart,\n      user: $storeUser.state.user\n    };\n  },\n  methods: {\n    logout: function logout() {\n      axios.post('http://localhost:4000/api/v1/auth/logout', {\n        id: this.user.id\n      }).then(function () {\n        window.localStorage.clear();\n        location.reload();\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    }\n  },\n  computed: {\n    totalQuantity: function totalQuantity() {\n      var totalQuantity = 0;\n\n      var _iterator = _createForOfIteratorHelper(this.cart),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item = _step.value;\n          totalQuantity += item.quantity;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return totalQuantity.toString();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AAEA;EACAA;IACAC;EADA,CADA;EAIAC;IAAA;MACAC,YADA;MAEAC,iBAFA;MAGAC,mBAHA;MAIAC,eAJA;MAKAC,2BALA;MAMAC;IANA;EAAA,CAJA;EAYAC;IACAC,MADA,oBACA;MACAC;QAAAC;MAAA,GACAC,IADA,CACA;QACAC;QACAC;MACA,CAJA,EAKAC,KALA,CAKA;QAAA;MAAA,CALA;IAMA;EARA,CAZA;EAsBAC;IACAC,aADA,2BACA;MACA;;MADA,2CAEA,SAFA;MAAA;;MAAA;QAEA;UAAA;UACAA;QACA;MAJA;QAAA;MAAA;QAAA;MAAA;;MAKA;IACA;EAPA;AAtBA","names":["props","viewsAvailable","data","drawer","miniVariant","expandOnHover","permanent","cart","user","methods","logout","axios","id","then","window","location","catch","computed","totalQuantity"],"sourceRoot":"src/components","sources":["MenuComponent.vue"],"sourcesContent":["<template>\n    <v-card id=\"menu-component\" v-if=\"viewsAvailable[0].view !== 'Connexion'\">\n      <v-navigation-drawer\n        app\n        v-model=\"drawer\"\n        color=\"primary\"\n        :expand-on-hover=\"expandOnHover\"\n        :mini-variant=\"miniVariant\"\n        :permanent=\"permanent\"\n        dark\n      >\n        <v-list dense class=\"py-0\">\n          <v-list-item two-line :class=\"miniVariant && 'px-0'\">\n            <v-list-item-avatar class=\"ml-2\">\n              <img v-if=\"user.thumbnail !== null\" :src=\"user.thumbnail\" alt=\"Avatar\" />\n              <img v-else src=\"https://icones.pro/wp-content/uploads/2021/02/icone-utilisateur.png\" />\n            </v-list-item-avatar>\n            <v-list-item-content>\n              <v-list-item-title>{{user.firstname}} {{user.lastname}}</v-list-item-title>\n              <v-list-item-subtitle>{{user.mail}}</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n\n          <v-btn link v-for=\"(view, idx) in viewsAvailable\" :key=\"idx\" :to=\"view.link\">\n            <v-list-item link style=\"width: 223px;padding-left: 2px;\">\n                <v-icon class=\"mr-5\">{{ view.mdi }}</v-icon>\n                {{ view.view }}\n                <v-badge class=\"ml-1\" v-if=\"view.view === 'Panier' && totalQuantity > 0\" color=\"primary\" :content=\"totalQuantity\"></v-badge>\n            </v-list-item>\n          </v-btn>\n          <v-list-item class=\"ml-4\" link @click=\"logout\" style=\"width: 223px;padding-left: 2px;\">\n            <v-icon class=\"mr-5\">mdi-logout</v-icon>\n            <span style=\"font-size: 14px;\">DECONNEXION</span>\n          </v-list-item>\n          <v-list-item>\n            <v-checkbox v-model=\"$vuetify.theme.dark\"\n              class=\"ml-1\"\n              color=\"white\"\n              on-icon=\"mdi-theme-light-dark\"\n              off-icon=\"mdi-theme-light-dark\"\n            >\n            </v-checkbox>\n          </v-list-item>\n        </v-list>\n      </v-navigation-drawer>\n    </v-card>\n</template>\n\n<script>\nimport $storeCart from '@/store/cart'\nimport $storeUser from '@/store/user'\nimport axios from 'axios'\n\nexport default {\n  props: {\n    viewsAvailable: Array\n  },\n  data: () => ({\n    drawer: true,\n    miniVariant: true,\n    expandOnHover: true,\n    permanent: true,\n    cart: $storeCart.state.cart,\n    user: $storeUser.state.user\n  }),\n  methods: {\n    logout () {\n      axios.post('http://localhost:4000/api/v1/auth/logout', { id: this.user.id })\n        .then(() => {\n          window.localStorage.clear()\n          location.reload()\n        })\n        .catch(error => console.log(error))\n    }\n  },\n  computed: {\n    totalQuantity () {\n      let totalQuantity = 0\n      for (const item of this.cart) {\n        totalQuantity += item.quantity\n      }\n      return totalQuantity.toString()\n    }\n  }\n}\n</script>\n\n<style scoped>\n#menu-component {\n  border-radius: 0;\n}\n#menu-component a {\n  box-shadow: none;\n  background: none;\n}\n#menu-component a::before {\n  opacity: 0;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}