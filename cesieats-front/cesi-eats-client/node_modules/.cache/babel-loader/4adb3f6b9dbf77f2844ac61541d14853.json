{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport LoginComponent from '@/components/LoginComponent';\nimport $storeCart from '@/store/cart';\nimport $storeUser from '@/store/user';\nimport axios from 'axios';\nexport default {\n  name: 'NavbarComponent',\n  components: {\n    LoginComponent\n  },\n  props: {\n    viewsAvailable: Array\n  },\n  data: () => ({\n    cart: $storeCart.state.cart,\n    user: $storeUser.state.user\n  }),\n  methods: {\n    logout() {\n      axios.post('http://localhost:4000/api/v1/auth/logout', {\n        id: this.user.id\n      }).then(() => {\n        window.localStorage.clear();\n        location.reload();\n      }).catch(error => console.log(error));\n    }\n\n  },\n  computed: {\n    totalQuantity() {\n      let totalQuantity = 0;\n\n      for (const item of this.cart) {\n        totalQuantity += item.quantity;\n      }\n\n      return totalQuantity.toString();\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;AACA;AACA;AAEA;EACAA,uBADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACAC;EADA,CALA;EAQAC;IACAC,2BADA;IAEAC;EAFA,EARA;EAYAC;IACAC;MACAC;QAAAC;MAAA,GACAC,IADA,CACA;QACAC;QACAC;MACA,CAJA,EAKAC,KALA,CAKAC,2BALA;IAMA;;EARA,CAZA;EAsBAC;IACAC;MACA;;MACA;QACAA;MACA;;MACA;IACA;;EAPA;AAtBA","names":["name","components","LoginComponent","props","viewsAvailable","data","cart","user","methods","logout","axios","id","then","window","location","catch","error","computed","totalQuantity"],"sourceRoot":"src/components","sources":["NavbarComponent.vue"],"sourcesContent":["<template>\n  <v-app-bar app id=\"navbar-component\">\n    <a href=\"/\" class=\"d-flex align-center\" title=\"Page d'accueil\">\n       <v-img :src=\"require('@/assets/logo.png')\" alt=\"CESI Eats Logo\"\n         class=\"shrink mr-2\"\n         width=\"50\"\n         transition=\"scale-transition\"\n       />\n       <h2>CESI Eats</h2>\n     </a>\n\n    <v-spacer></v-spacer>\n\n    <div v-if=\"viewsAvailable[0].view === 'Connexion'\">\n      <LoginComponent/>\n    </div>\n    <div v-if=\"viewsAvailable[0].view === 'Connexion'\">\n      <v-btn class=\"reponsive-navbar\" link v-for=\"view in viewsAvailable.filter(view => !view.isSetting && view.view === 'Inscription')\" :key=\"view.view\" :to=\"view.link\">\n        <v-icon class=\"mr-1\">{{ view.mdi }}</v-icon>\n        <span class=\"mr-1\">{{ view.view }}</span>\n      </v-btn>\n    </div>\n    <div v-if=\"viewsAvailable[0].view !== 'Connexion'\">\n      <v-btn class=\"reponsive-navbar\" link v-for=\"view in viewsAvailable.filter(view => !view.isSetting)\" :key=\"view.view\" :to=\"view.link\">\n        <v-icon v-if=\"view.mdi\" class=\"mr-1\">{{ view.mdi }}</v-icon>\n        <span class=\"mr-1\">{{ view.view }}</span>\n        <v-badge class=\"ml-1\" v-if=\"view.view === 'Panier' && totalQuantity > 0\" color=\"primary\" :content=\"totalQuantity\"></v-badge>\n      </v-btn>\n    </div>\n\n    <div class=\"reponsive-navbar\">\n      <v-menu offset-y>\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn icon v-on=\"on\" v-bind=\"attrs\">\n            <v-icon>mdi-cog</v-icon>\n          </v-btn>\n        </template>\n        <v-list>\n          <v-list-item v-for=\"view in viewsAvailable.filter(view => view.isSetting)\" :key=\"view.view\">\n            <v-btn :href=\"view.link\" style=\"width: 100%; background: none;box-shadow: none;border-bottom: 1px solid black;border-radius: 0;\">\n              <v-list-item-title>\n                <v-icon v-if=\"view.mdi\" class=\"mr-1\">{{ view.mdi }}</v-icon>\n                <span class=\"mr-1\">{{ view.view }}</span>\n              </v-list-item-title>\n            </v-btn>\n          </v-list-item>\n          <v-list-item>\n            <v-btn @click=\"logout\" style=\"width: 100%; background: none;box-shadow: none;border-bottom: 1px solid black;border-radius: 0;\">\n              <v-list-item-title>\n                <v-icon class=\"mr-1\">mdi-logout</v-icon>\n                <span class=\"mr-1\">DÃ©connexion</span>\n              </v-list-item-title>\n            </v-btn>\n          </v-list-item>\n          <v-list-item>\n            <v-checkbox v-model=\"$vuetify.theme.dark\"\n              class=\"pt-4 ma-auto\"\n              on-icon=\"mdi-theme-light-dark\"\n              off-icon=\"mdi-theme-light-dark\"\n            >\n            </v-checkbox>\n          </v-list-item>\n        </v-list>\n      </v-menu>\n    </div>\n  </v-app-bar>\n</template>\n\n<script>\nimport LoginComponent from '@/components/LoginComponent'\nimport $storeCart from '@/store/cart'\nimport $storeUser from '@/store/user'\nimport axios from 'axios'\n\nexport default {\n  name: 'NavbarComponent',\n  components: {\n    LoginComponent\n  },\n  props: {\n    viewsAvailable: Array\n  },\n  data: () => ({\n    cart: $storeCart.state.cart,\n    user: $storeUser.state.user\n  }),\n  methods: {\n    logout () {\n      axios.post('http://localhost:4000/api/v1/auth/logout', { id: this.user.id })\n        .then(() => {\n          window.localStorage.clear()\n          location.reload()\n        })\n        .catch(error => console.log(error))\n    }\n  },\n  computed: {\n    totalQuantity () {\n      let totalQuantity = 0\n      for (const item of this.cart) {\n        totalQuantity += item.quantity\n      }\n      return totalQuantity.toString()\n    }\n  }\n}\n</script>\n\n<style scoped>\n#navbar-component a {\n  text-decoration: none;\n  box-shadow: none;\n}\n#navbar-component a::before {\n  opacity: 0;\n}\n#navbar-component a:hover {\n opacity: 0.6;\n}\n@media (max-width: 700px) {\n  #navbar-component .reponsive-navbar {\n    display: none;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}